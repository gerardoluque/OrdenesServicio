(function(a){a.widget("ui.igLoading",{options:{cssClass:null},_indicator:null,_create:function(){var b,c;c=this.options.cssClass===null?"ui-igloadingmsg":this.options.cssClass;if(this.element.children("."+c).length===0){this._indicator=a("<span></span>").appendTo("body").attr("id",this.element[0].id+"_loading").addClass(c);b=this.element.offset();this._indicator.css("left",b.left+this.element.innerWidth()/2).css("top",b.top+this.element.innerHeight()/2)}},indicatorElement:function(){return this._indicator},indicator:function(){return this},show:function(){this.refreshPos();this._resId=setInterval(a.proxy(this._resizeContainer,this),300);this._indicator.show()},hide:function(){this._indicator.hide();clearInterval(this._resId)},_resizeContainer:function(){var b=this.element.offset();if(b.top+this.element.innerHeight()/2!==this._indicator.css("top")){this.refreshPos()}},refreshPos:function(){var b=this.element.offset();this._indicator.css("left",b.left+this.element.innerWidth()/2).css("top",b.top+this.element.innerHeight()/2)},destroy:function(){clearInterval(this._resId);this._indicator.remove()}});a.extend(a.ui.igLoading,{version:"11.1.20111.2010"});a.widget("ui.igSlider",a.ui.mouse,{options:{animate:false,max:100,min:0,orientation:"horizontal",step:1,value:0,bookmarks:[{value:0,title:"",disabled:false,css:""}],showBookmarkTitle:true,syncHandleWithBookmark:true},css:{baseClasses:"ui-igslider ui-widget ui-widget-content ui-corner-all",horizontalOrientationClass:"ui-igslider-horizontal",verticalOrientationClass:"ui-igslider-vertical",sliderDisabledClass:"ui-igslider-disabled ui-disabled",handleClass:"ui-igslider-handle",bookmarkClass:"ui-igslider-bookmark",bookmarkDisabledClass:"ui-igslider-bookmark-disabled",bookmarkTooltipClass:"ui-igslider-bookmark-tooltip"},events:{start:"start",slide:"slide",stop:"stop",change:"change",bookmarkHit:"bookmarkhit",bookmarkClick:"bookmarkclick"},_numpages:5,widget:function(){return this.element},_createWidget:function(c,b){this.options.bookmarks=[];a.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){var b=this.options,d=this,c=this.css;this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass(c.baseClasses);if(b.disabled){this.element.addClass(c.sliderDisabledClass)}if(a(".ui-igslider-handle",this.element).length===0){a("<a href='#'></a>").appendTo(this.element).addClass(c.handleClass)}this.handles=a(".ui-igslider-handle",this.element).addClass("ui-state-default ui-corner-all").bind({click:function(e){e.preventDefault()},mouseover:function(){if(!b.disabled){a(this).addClass("ui-state-hover")}},mouseout:function(){a(this).removeClass("ui-state-hover")},focus:function(){if(!b.disabled){a(".ui-igslider .ui-state-focus").removeClass("ui-state-focus");a(this).addClass("ui-state-focus")}else{a(this).blur()}},blur:function(){a(this).removeClass("ui-state-focus")},keydown:function(i){var g=true,f=a(this).data("index.ui-igslider-handle"),j,k,h,e;if(d.options.disabled){return}switch(i.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:g=false;if(!d._keySliding){d._keySliding=true;a(this).addClass("ui-state-active");j=d._start(i,f);if(j===false){return}}break}e=d.options.step;k=h=d.value();switch(i.keyCode){case a.ui.keyCode.HOME:h=d.options.min;break;case a.ui.keyCode.END:h=d.options.max;break;case a.ui.keyCode.PAGE_UP:h=d._trimValue(k+((d.options.max-d.options.min)/this._numpages));break;case a.ui.keyCode.PAGE_DOWN:h=d._trimValue(k-((d.options.max-d.options.min)/this._numpages));break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(k===d.options.max){return}h=d._trimValue(k+e);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(k===d.options.min){return}h=d._trimValue(k-e);break}d._slide(i,f,h);return g},keyup:function(f){var e=a(this).data("index.ui-igslider-handle");if(d._keySliding){d._keySliding=false;d._stop(f,e);d._change(f,e);a(this).removeClass("ui-state-active")}}}).each(function(e){a(this).data("index.ui-igslider-handle",e)});this.handle=this.handles.eq(0);this._renderBookmarks();this._refreshValue();this._animateOff=false},_renderBookmarks:function(){if(this.options.bookmarks&&this.options.bookmarks.length>0){var d=this.options.bookmarks.length,b=0,e=this.options,f=this.css,g,c=this;for(b;b<d;b++){g=e.bookmarks[b];a("<a href='#'></a>").appendTo(this.element).data("index.ui-igslider-bookmark",b).addClass(g.disabled?f.bookmarkDisabledClass:f.bookmarkClass).addClass(g.css&&g.css.length>0?g.css:"").css("left",(e.min!==e.max)?((g.value-e.min)/(e.max-e.min)*100)+"%":"0%")}this.bookmarks=a(".ui-igslider-bookmark",this.element).addClass("ui-state-default").bind({mousedown:function(h){var i=true,j=a(this).data("index.ui-igslider-bookmark");h.preventDefault();h.stopPropagation();i=c._bookmarkClicked(h,j);if(c.options.syncHandleWithBookmark&&i){c._slide(h,0,c.options.bookmarks[j].value)}},mouseover:function(h){if(!e.disabled){a(this).addClass("ui-state-hover");if(c.options.showBookmarkTitle){c._showBookmarkTitle(a(this),h)}}},mouseout:function(){if(!e.disabled){a(this).removeClass("ui-state-hover");if(c.options.showBookmarkTitle){c._hideBookmarkTitle(a(this))}}},click:function(h){h.preventDefault()}});this._createBookmarkTooltip();this._buildBookmarkHit()}},destroy:function(){this.handles.remove();this.clearBookmarks();this.element.removeClass(this.css.baseClasses+" ui-igslider-horizontal ui-igslider-vertical ui-igslider-disabled").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_id:function(b){return this.element[0].id+b},_showBookmarkTitle:function(e,c){var d=a("#"+this._id("_tooltip")),f=e.position(),b=this.options.bookmarks[e.data("index.ui-igslider-bookmark")].title;if(b&&b.length>0){d.igTooltip("option","text",b);d.css("top",c.pageY-d.outerHeight()-5).css("left",c.pageX-(d.width()/2)+(e.width()/2)).show()}},_hideBookmarkTitle:function(b){a("#"+this._id("_tooltip")).hide()},_createBookmarkTooltip:function(){var b='<div id="'+this._id("_tooltip")+'" class="'+this.css.bookmarkTooltipClass+'"></div>';a(b).appendTo(a(document.body)).igTooltip({arrowLocation:"bottom"}).hide()},clearBookmarks:function(){if(this.bookmarks){this.bookmarks.remove()}},_mouseCapture:function(h){var e=this.options,f,g,j=0,d=this.handles.eq(j),c=this,i,b,k;if(e.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();f={x:h.pageX,y:h.pageY};g=this._normValueFromMouse(f);this._mouseSliding=true;c._handleIndex=j;d.addClass("ui-state-active");if(!a.browser.opera){d.focus()}b=d.offset();k=!a(h.target).parents().andSelf().is(".ui-igslider-handle");this._clickOffset=k?{left:0,top:0}:{left:h.pageX-b.left-(d.width()/2),top:h.pageY-b.top-(d.height()/2)-(parseInt(d.css("borderTopWidth"),10)||0)-(parseInt(d.css("borderBottomWidth"),10)||0)+(parseInt(d.css("marginTop"),10)||0)};this._slide(h,j,g);this._animateOff=true;this._mouseUpHandler=function(l){return c._mouseStop(l)};a(document).bind("mouseup."+this.widgetName,this._mouseUpHandler);return true},_mouseStart:function(b){a(document).unbind("mouseup."+this.widgetName,this._mouseUpHandler);return this._start(b,this._handleIndex)},_mouseDrag:function(c){var b={x:c.pageX,y:c.pageY},d=this._normValueFromMouse(b);this._slide(c,this._handleIndex,d);return false},_mouseStop:function(b){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(b,this._handleIndex);this._change(b,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){var b=this.options,c=this.css;if(b.orientation==="vertical"){this.orientation="vertical";this.element.removeClass(c.horizontalOrientationClass).addClass(c.verticalOrientationClass)}else{this.orientation="horizontal";this.element.removeClass(c.verticalOrientationClass).addClass(c.horizontalOrientationClass)}},_normValueFromMouse:function(d){var g,e,f,c,b;if(this.orientation==="horizontal"){g=this.elementSize.width;e=d.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{g=this.elementSize.height;e=d.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}f=(e/g);if(f>1){f=1}if(f<0){f=0}if(this.orientation==="vertical"){f=1-f}c=this.options.max-this.options.min;b=this.options.min+f*c;return this._trimValue(b)},_start:function(c,b){var d={handle:this.handles[b],value:this.value()};return this._trigger(this.events.start,c,d)},_slide:function(c,b,d){var e;if(d!==this.value()){e=this._trigger(this.events.slide,c,{handle:this.handles[b],value:d});if(e!==false){this.value(d)}}},_stop:function(c,b){var d={handle:this.handles[b],value:this.value()};this._trigger(this.events.stop,c,d)},_change:function(c,b){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[b],value:this.value()};this._trigger(this.events.change,c,d);this._checkBookmarkHit(d.value,c);if(d.value===this.options.max&&this._marksHit&&this._marksHit.length===0){this._buildBookmarkHit()}}},_checkBookmarkHit:function(c,d){if(this._marksHit&&this._marksHit.length>0&&c>=this._marksHit[0].value){var b=this._marksHit[0].index;this._marksHit.shift();this._bookmarkHit(d,b)}},_buildBookmarkHit:function(){var c=this.options.bookmarks||[],d=c.length-1;this._marksHit=[];for(;d>=0;d--){if(!c[d].disabled){this._marksHit.push({value:c[d].value,index:d})}}this._marksHit.sort(this._sortBookmarksJSON);this._marksHit=a.extend(true,[],this._marksHit)},_sortBookmarksJSON:function(c,d){return(c.value-d.value)},_bookmarkClicked:function(c,b){var d={bookmarkElement:this.bookmarks[b],bookmark:this.options.bookmarks[b]};return this._trigger(this.events.bookmarkClick,c,d)},_bookmarkHit:function(c,b){var d={bookmarkElement:this.bookmarks[b],bookmark:this.options.bookmarks[b]};if(d.bookmarkElement){this._trigger(this.events.bookmarkHit,c,d)}},value:function(b){if(arguments.length){this.options.value=this._trimValue(b);this._refreshValue();this._change(null,0)}return this._value()},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":if(c){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"bookmarks":this.clearBookmarks();this._renderBookmarks();break}},_value:function(){return this._trimValue(this.options.value)},_trimValue:function(c){if(c<this.options.min){return this.options.min}if(c>this.options.max){return this.options.max}var d=(this.options.step>0)?this.options.step:1,b=c%d,e=c-b;if(Math.abs(b)*2>=d){e+=(b>0)?d:(-d)}return parseFloat(e.toFixed(5))},_normPercentValue:function(c){var d=0,b=c;if(this.orientation==="vertical"){d=(this.handle.outerHeight()/this.element.outerHeight()).toFixed(2)*100}if(c-d>0){b=c-d}return b},_refreshValue:function(){var f=this.options,c=this,g=(!this._animateOff?f.animate:false),h={},b=this.value(),i=this.options.min,e=this.options.max,d=(e!==i)?(b-i)/(e-i)*100:0;h[c.orientation==="horizontal"?"left":"bottom"]=this._normPercentValue(d)+"%";this.handle.stop(1,1)[g?"animate":"css"](h,f.animate)}});a.extend(a.ui.igSlider,{version:"11.1.20111.2010"});a.widget("ui.igProgressBar",{options:{animate:false,animateTimeout:100,max:100,min:0,orientation:"horizontal",value:0,width:"0px",height:"0px",range:false,endValue:100},css:{baseClasses:"ui-igprogressbar ui-widget ui-widget-content ui-corner-all",horizontalOrientationClass:"ui-igprogressbar-horizontal",verticalOrientationClass:"ui-igprogressbar-vertical",disabledClass:"ui-igprogressbar-disabled ui-disabled",progressRangeClass:"ui-igprogressbar-range ui-widget-header ui-corner-all"},events:{change:"change"},_animationOff:true,widget:function(){return this.element},_detectOrientation:function(){var b=this.css;if(this.options.orientation==="vertical"){this.orientation="vertical";this.element.removeClass(b.horizontalOrientationClass).addClass(b.verticalOrientationClass)}else{this.orientation="horizontal";this.element.removeClass(b.verticalOrientationClass).addClass(b.horizontalOrientationClass)}},_id:function(b){return this.element[0].id+b},_create:function(){var b=this.options,c=this.css;this._detectOrientation();this.element.addClass(c.baseClasses);if(b.disabled){this.element.addClass(c.disabledClass)}if(b.width!=="0px"){this.element.css("width",b.width)}if(b.height!=="0px"){this.element.css("height",b.height)}if(b.orientation==="horizontal"){a('<div id="'+this._id("_progress")+'" class="'+c.progressRangeClass+'" style="height:100%; top:0px; left:0%; width:0%;"></div>').appendTo(this.element)}else{a('<div id="'+this._id("_progress")+'" class="'+c.progressRangeClass+'" style="height:0%; bottom:0%; left:0px; width:100%;"></div>').appendTo(this.element)}this._refreshValue()},destroy:function(){this.element.removeClass("ui-igprogressbar ui-igprogressbar-horizontal ui-igprogressbar-vertical ui-igprogressbar-disabled ui-widget ui-widget-content ui-corner-all").removeData("igProgressBar").unbind(".igProgressBar");a("#"+this._id("_progress")).remove();return this},_change:function(c){var b={value:this.value()};this._trigger(this.events.change,c,b)},value:function(b){if(arguments.length){this.options.value=this._trimValue(b);this._refreshValue();this._change(null)}return this.options.value},_setOption:function(d,b){a.Widget.prototype._setOption.apply(this,arguments);var c=this.options;switch(d){case"disabled":if(b){this.element.addClass(this.css.disabledClass)}else{this.element.removeClass(this.css.disabledClass)}break;case"orientation":this._detectOrientation();this._refreshValue();break;case"value":this._animationOff=true;c.value=this._trimValue(b);this._refreshValue();this._change(null);this._animationOff=false;break;case"endValue":c.endValue=this._trimValue(b);this._refreshValue();break;case"max":if(c.endValue>c.max){c.endValue=c.max;this._refreshValue()}break;case"width":this.element.css("width",b);break;case"height":this.element.css("height",b);break;case"animate":c.animate=b;break;case"animateTimeout":c.animateTimeout=b;break;default:break}},_trimValue:function(b){if(b<this.options.min){return this.options.min}if(b>this.options.max){return this.options.max}return parseInt(b,10)},_refreshValue:function(){var d=this.options,b=d.value,h=d.min,c=d.max,e=d.endValue,f=(c!==h)?(b-h)/(c-h)*100:0,g=(b!==e)?(e-b)/(c-h)*100:0,i=a("#"+this._id("_progress"));if(d.range){if(d.orientation==="horizontal"){i.css("left",f+"%").css("width",g+"%")}else{i.css("bottom",f+"%").css("height",g+"%")}}else{if(d.animate===true){if(d.orientation==="horizontal"){if(i[0].style.width==="0%"){i.css({width:"0px"})}if(i.is(":hidden")===false){i.animate({width:f+"%"},d.animateTimeout)}else{i.css("width",f+"%")}}else{if(i[0].style.height==="0%"){i.css({height:"0px"})}if(i.is(":hidden")===false){i.animate({height:f+"%"},d.animateTimeout)}else{i.animate({height:f+"%"},d.animateTimeout)}}}else{if(d.orientation==="horizontal"){i.css("width",f+"%")}else{i.css("height",f+"%")}}}}});a.extend(a.ui.igProgressBar,{version:"11.1.20111.2010"});a.widget("ui.igButton",{options:{width:null,height:null,link:{href:null,target:null,title:null},labelText:"",centerLabel:false,css:null,onlyIcons:false,icons:{primary:null,secondary:null},title:false},_id:function(b){return this.element[0].id+b},_create:function(){var f=this,b=f.options,g=this.element,d,c={buttonClassIE6:"ui-ie6",buttonClasses:"ui-button ui-igbutton ui-widget ui-widget-content ui-corner-all ui-state-default",buttonHoverClasses:"ui-state-hover",buttonActiveClasses:"ui-state-active",buttonFocusClasses:"ui-state-focus",buttonLabelClass:"ui-button-text",buttonDisabledClass:"ui-state-disabled",buttonPrimaryIconClass:"ui-button-icon-primary ui-icon",buttonMainElementPrimaryIconClass:" ui-button-text-icon-primary",buttonMainElementSecondaryIconClass:" ui-button-text-icon-secondary",buttonSecondaryIconClass:"ui-button-icon-secondary ui-icon",buttonIconsOnly:"ui-button-icons-only",buttonIconOnly:"ui-button-icon-only",buttonIcons:"ui-button-text-icons",buttonTextOnlyClass:"ui-button-text-only"};this._attached=false;b.css=a.extend(c,b.css);f._getInitValues();if(g.is("div")){f._renderDivButton()}else{if(g.is("a")){f._renderAHref()}else{if(g.is("input")){d=g.attr("type").toUpperCase();if(d==="BUTTON"||d==="SUBMIT"||d==="RESET"){f._renderInput()}else{return}}else{if(g.is("button")){f._renderButton()}else{return}}}}if(b.width!==null){f._setWidth(b.width)}if(b.height!==null){f._setHeight(b.height)}g.addClass(b.css.buttonClasses).addClass(b.css.buttonDefaultClasses);if(a.browser.msie===true&&a.browser.version.slice(0,1)==="6"){g.addClass(c.buttonClassIE6)}if(b.centerLabel===true){f._centerLabel()}if(b.disabled){f._disableButton()}else{f._enableButton()}f._setOnlyIcons();g.attr("role","button");g.attr("aria-disabled","false");f._attachButtonEvents();f.setTitle(b.title);return this},setTitle:function(c){var b=this.element;if(c===false){b.removeAttr("title")}else{b.attr("title",c)}},widget:function(){return this.element},_isRedirect:function(){return this.options.link.href!==null},_renderDivButton:function(){this._setLabel()},_renderAHref:function(){this._setLinkOptions(true);this._setLabel()},_renderInput:function(){var b=this.element;b.attr("value",this.options.labelText)},_renderButton:function(){this._setLabel()},_disableButton:function(){var b=this,c=b.element;c.addClass(b.options.css.buttonDisabledClass);if(c.is("a")===true){c.removeAttr("href");c.removeAttr("target");c.removeAttr("title")}else{c.attr("disabled","true")}},_enableButton:function(){var c=this,d=c.element,b=this.options;if(d.hasClass(b.css.buttonDisabledClass)){d.removeClass(b.css.buttonDisabledClass)}d.removeAttr("disabled");if(d.is("a")===true){c._setLinkOptions(true)}},_setLabel:function(){var j=this.element,g=this.options,b=g.icons,i=g.css,f="",c=this._isSetPrimaryIcon(),h=this._isSetSecondaryIcon(),d=(g.labelText===null||g.labelText==="")?j.text():g.labelText;j.attr("title",g.labelText);if(j.is("input")){j.attr("value",g.labelText);return}if(c){f+='<span class="'+i.buttonPrimaryIconClass+" "+b.primary+'" id="'+this._id("_picn")+'"></span>'}f+='<span class="'+g.css.buttonLabelClass+'" id="'+this._id("_lbl")+'">'+d+"</span>";if(h){f+='<span class="'+i.buttonSecondaryIconClass+" "+b.secondary+'" id="'+this._id("_sicn")+'"></span>'}if(c&&h&&!g.onlyIcons){j.addClass(i.buttonIcons)}else{if(g.onlyIcons){this._setOnlyIcons()}else{if(c){j.addClass(i.buttonMainElementPrimaryIconClass)}else{if(h){j.addClass(i.buttonMainElementSecondaryIconClass)}else{j.addClass(i.buttonTextOnlyClass)}}}}j.html(f)},_setOnlyIcons:function(){var b=this.element,c=this.options.css;if(this.options.onlyIcons===false){if(b.hasClass(c.buttonIconsOnly)){b.removeClass(c.buttonIconsOnly)}if(b.hasClass(c.buttonIconOnly)){b.removeClass(c.buttonIconOnly)}if(this._isSetPrimaryIcon()&&this._isSetSecondaryIcon()){b.addClass(c.buttonIcons)}}else{if(this._isSetPrimaryIcon()&&this._isSetSecondaryIcon()){b.addClass(c.buttonIconsOnly)}else{b.addClass(c.buttonIconOnly)}}},_setLinkOptions:function(c){var f=this,d=f.element,b=this.options;if(c){if(b.link!==null&&b.link.href!==null){d.attr("href",b.link.href)}else{d.removeAttr("href")}if(b.link!==null&&b.link.target!==null){d.attr("target",b.link.target)}else{d.removeAttr("target")}if(b.link!==null&&b.link.title!==null){d.attr("title",b.link.title)}else{d.removeAttr("title")}}},_setWidth:function(c){var b=this.element;if(c===null){b.css("width","")}else{b.css("width",c)}},_setHeight:function(c){var b=this.element;if(c===null){b.css("height","")}else{b.css("height",c)}},_setOption:function(f,b){var d=this.element,c=this;a.Widget.prototype._setOption.apply(this,arguments);switch(f){case"width":c._setWidth(b);break;case"height":c._setHeight(b);break;case"link":c._setLinkOptions(d.is("a")===true);break;case"disabled":b=Boolean(b);if(b===true){c._disableButton()}else{c._enableButton()}break;case"labelText":c._setLabel();break;case"centerLabel":b=Boolean(b);if(b){c._centerLabel()}else{c._removeCenterLabel()}break;case"onlyIcons":b=Boolean(b);c._setOnlyIcons();break;case"icons":c._setLabel();break;case"title":c.setTitle(b);break;default:break}},_centerLabel:function(){var d=this,g=d.element,c=a("#"+d._id("_lbl")),b=(g.width()-c.width())/2,f=(g.height()-c.height())/2;c.css({position:"relative",top:f+"px",left:b+"px"})},_removeCenterLabel:function(){var b=this,c=a("#"+b._id("_lbl"));if(c.length>0){c.css({position:"",top:"",left:""})}},_dettachEvents:function(){var b=this,c=b.element;this._attached=false;c.unbind(this._events);return},_onMouseOver:function(b){if(this.options.disabled===true){return}this.element.addClass(this.options.css.buttonHoverClasses);if(!this._trigger("mouseover",b)){return}},_onMouseOut:function(c){var d=this,f=d.element,b=this.options;if(b.disabled===true){return}f.removeClass(b.css.buttonHoverClasses);if(!d._trigger("mouseout",c)){return}},_onClick:function(c){var f=this.element,d=this,b=this.options;if(b.disabled===true){return}if(d._isRedirect()===true&&f.is("a")===false){if(b.link.target==="_blank"){window.open(b.link.href)}else{window.location=b.link.href}}if(!d._trigger("click",c)){return}},_onMouseDown:function(c){var d=this.element,b=this.options;if(b.disabled===true){return}d.addClass(b.css.buttonActiveClasses);if(!this._trigger("mousedown",c)){return}},_onMouseUp:function(b){var c=this.options;if(c.disabled===true){return}this.element.removeClass(c.css.buttonActiveClasses);if(!this._trigger("mouseup",b)){return}},_onFocus:function(b){var c=this.options;if(c.disabled===true){return}this.element.addClass(c.css.buttonFocusClasses);if(!this._trigger("focus",b)){return}},_onBlur:function(b){var c=this.options;if(c.disabled===true){return}this.element.removeClass(c.css.buttonFocusClasses);if(!this._trigger("blur",b)){return}},_attachButtonEvents:function(){var b=this,c=b.element;if(this._attached===true){return}this._attached=true;this._events={mouseover:function(d){b._onMouseOver(d,b)},click:function(d){b._onClick(d)},mouseout:function(d){b._onMouseOut(d)},mousedown:function(d){b._onMouseDown(d)},mouseup:function(d){b._onMouseUp(d)},focus:function(d){b._onFocus(d)},blur:function(d){b._onBlur(d)}};c.bind(this._events)},_isSetPrimaryIcon:function(){var c=this.options.icons.primary,b=false;if(c!==undefined&&c!==null&&typeof c!==undefined){b=true}return b},_isSetSecondaryIcon:function(){var c=this.options.icons.secondary,b=false;if(c!==undefined&&c!==null&&typeof c!==undefined){b=true}return b},_setAttribute:function(d,c,b){if(c!==undefined&&c!==""&&c!==null){d.attr(b,c)}else{d.removeAttr(b)}},destroy:function(){this._dettachEvents();this._rollbackInitValues();a.Widget.prototype.destroy.apply(this,arguments)},_getInitValues:function(){var b=this.element;this._innerHTML=b.html();this._cssClasses=b.attr("class");this._role=b.attr("role");this._href=b.attr("href");this._title=b.attr("title");this._target=b.attr("target");this._width=b.attr("width");this._height=b.attr("height");this._disabled=b.attr("disabled");this._value=b.val()},_rollbackInitValues:function(){var b=this.element;b.html(this._innerHTML);if(b.is("a")){this._setAttribute(b,this._href,"href");this._setAttribute(b,this._target,"target")}else{if(b.is("input")){b.val(this._value)}}this._setAttribute(b,this._title,"title");this._setAttribute(b,this._width,"width");this._setAttribute(b,this._height,"height");this._setAttribute(b,this._cssClasses,"class");this._setAttribute(b,this._role,"role");this._setAttribute(b,this._disabled,"disabled")}});a.extend(a.ui.igButton,{version:"11.1.20111.2010"});a.widget("ui.igTooltip",{css:{baseClasses:"ui-widget ui-igtooltip",arrowImageBaseClass:"ui-igtooltip-arrow-"},options:{text:"",arrowLocation:"top"},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"text":a("div.ui-widget-content",this.element).html(c);break;case"arrowLocation":a("div",this.element).remove();this._renderTooltip();break}},_create:function(){if(this.element.is("div")){this._renderTooltip();this.element.addClass(this.css.baseClasses)}},_renderTooltip:function(){switch(this.options.arrowLocation){case"top":this._createArrowDiv();this._createContentDiv();break;case"bottom":this._createContentDiv();this._createArrowDiv();break;case"left":break;case"right":break}},_createContentDiv:function(){var b=(this.options.text&&this.options.text.length>0)?this.options.text:"";a('<div class="ui-widget-content ui-corner-all">'+b+"</div>").appendTo(this.element)},_createArrowDiv:function(){a('<div class="'+this.css.arrowImageBaseClass+this.options.arrowLocation+'"></div>').appendTo(this.element)},destroy:function(){this.element.children().remove();this.element.removeClass(this.css.baseClasses)}});a.extend(a.ui.igTooltip,{version:"11.1.20111.2010"})}(jQuery));(function(a){a.ig=a.ig||{};a.ig.Upload=a.ig.Upload||{};a.extend(a.ig.Upload,{locale:{labelUploadButton:"Upload File",labelAddButton:"Add",labelClearAllButton:"Clear Uploaded",labelSummaryTemplate:"{0} of {1} uploaded",labelSummaryProgressBarTemplate:"{0}/{1}",labelShowDetails:"Show Details",labelHideDetails:"Hide Details",labelSummaryProgressButtonCancel:"Cancel",labelSummaryProgressButtonContinue:"Upload",labelSummaryProgressButtonDone:"Done",labelProgressBarFileNameContinue:"...",errorMessageFileSizeExceeded:"Max file size exceeded.",errorMessageGetFileStatus:"Could not get your current file status! Probably connection dropped.",errorMessageCancelUpload:"Could not send to server command to cancel upload! Probably connection dropped.",errorMessageNoSuchFile:"The file you requested could not be found. Probably this file is too big.",errorMessageOther:"There is internal error uploading file. Error code: {0}.",errorMessageValidatingFileExtension:"File extension validation failed.",errorMessageAJAXRequestFileSize:"AJAX error while trying to get file size.",errorMessageMaxUploadedFiles:"Maximum count of uploading files exceeded.",errorMessageMaxSimultaneousFiles:"Value of maxSimultaneousFilesUploads is incorrect. It should be more than 0 or null.",errorMessageTryToRemoveNonExistingFile:"You are trying to remove non-existing file with id {0}.",errorMessageTryToStartNonExistingFile:"You are trying to start non-existing file with id {0}.",titleUploadFileButtonInit:"Upload File",titleAddFileButton:"Add",titleCancelUploadButton:"Cancel",titleSummaryProgressButtonContinue:"Upload",titleClearUploaded:"Clear Uploaded",titleShowDetailsButton:"Show Details",titleHideDetailsButton:"Hide Details",titleSummaryProgressButtonCancel:"Cancel",titleSummaryProgressButtonDone:"Done",titleSingleUploadButtonContinue:"Upload",titleClearAllButton:"Clear Uploaded"}})}(jQuery));if(typeof(jQuery)==="undefined"){throw new Error("The Infragistics File Upload requires jQuery to be loaded")}(function(a){a.widget("ui.igBrowseButton",a.ui.igButton,{_const:{filePickerWidth:"220px",filePickerHeight:"30px"},css:{filePickerClass:"ui-igbrowsebutton-filepicker"},options:{autoselect:true,multiplefiles:false},_id:function(b){return this.element[0].id+b},_create:function(){var b=this._id("_fp");a.extend(a.ui.igBrowseButton.prototype.options,a.ui.igButton.prototype.options);a.extend(a.ui.igBrowseButton.prototype.css,a.ui.igButton.prototype.css);a.ui.igButton.prototype._create.apply(this);this._createFilePicker(b);this._attachBrowseButtonEvents();if(this.options.disabled===true){this._enableFilePicker(true)}},_createFilePicker:function(b){this.filePicker=a('<input type="file" id="'+b+'" />').appendTo(a(document.body));this.filePicker.css({position:"absolute",margin:"-5px 0 0 -175px",padding:"0",width:"1px",height:"1px",fontSize:"14px",opacity:"0",cursor:"pointer",display:"block",zIndex:"2147483583",filter:"alpha(opacity=0)"});this._setTitle(this.options.title)},_setTitle:function(b){var c=a("#"+this._id("_fp"));if(b===false){c.removeAttr("title")}else{c.attr("title",b)}},_attachBrowseButtonEvents:function(){var b=this;this.mouseMoveEvent={mousemove:function(c){b._mousemove(c)}};this._internalEvents={mouseover:function(){b._attachMouseMove(true)}};b.element.bind(this._internalEvents);b._filePickerBindChange()},_filePickerBindChange:function(){var d=this,b,c=a("#"+this._id("_fp"));d.tempClicked=false;d._filePickerEvents={change:function(e){b=d._fileFromPath(c.val());if(!d._trigger("fileselect",e,{filePath:b})){return}},click:function(e){if(!d._trigger("click",e)){return false}}};c.bind(d._filePickerEvents)},attachFilePicker:function(l,i){var d=this,k,m,j=d.element,g=this.filePicker,b=j.offset(),h=parseInt(b.left,10),f=parseInt(b.top,10),c=g[0];k=parseInt(h+j[0].offsetWidth,10);m=parseInt(f+j[0].offsetHeight,10);if(l.pageX>=h&&l.pageX<=k&&l.pageY>=f&&l.pageY<=m){c.style.top=l.pageY+"px";c.style.left=l.pageX+"px";if(i===true){g.css({width:"1px",height:"1px"})}else{d.isVisibleFilePicker=true;g.css({width:d._const.filePickerWidth,height:d._const.filePickerHeight})}c.style.display="block";d._onMouseOver(l)}},getFilePicker:function(){var b=this._id("_fp"),c=a("#"+b);c.attr("id","").css({display:"none"});this._createFilePicker(b);this._filePickerBindChange();return c},_mousemove:function(k){var d=this,j,l,i=d.element,g=this.filePicker,b=i.offset(),h=parseInt(b.left,10),f=parseInt(b.top,10),c=g[0];j=parseInt(h+i[0].offsetWidth,10);l=parseInt(f+i[0].offsetHeight,10);if(k.pageX>=h&&k.pageX<=j&&k.pageY>=f&&k.pageY<=l){c.style.top=k.pageY+"px";c.style.left=k.pageX+"px";if(!d.isVisibleFilePicker){g.css({width:d._const.filePickerWidth,height:d._const.filePickerHeight});d.isVisibleFilePicker=true}c.style.display="block";d._onMouseOver(k)}else{if(d.isVisibleFilePicker){g.css({width:"1px",height:"1px"});d.isVisibleFilePicker=false}d._attachMouseMove(false);d._onMouseOut(k)}},_attachMouseMove:function(b){if(b){a(document).bind(this.mouseMoveEvent)}else{a(document).unbind(this.mouseMoveEvent)}},_setOption:function(b,c){a.ui.igButton.prototype._setOption.apply(this,arguments);a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":c=Boolean(c);this._enableFilePicker(c);a.ui.igButton.prototype._setOption.apply(this,arguments);break;case"title":this._setTitle(c);break;default:break}},_enableFilePicker:function(c){var b=a("#"+this._id("_fp"));if(c===false){this.isVisibleFilePicker=false;this._attachMouseMove(true);this.element.bind(this._internalEvents).mouseover()}else{this._attachMouseMove(false);b.css({width:"1px",height:"1px"});this.element.unbind(this._internalEvents)}},destroy:function(){this.element.unbind(this._internalEvents);this.element.unbind(this.mouseMoveEvent);a.Widget.prototype.destroy.apply(this,arguments);a.ui.igButton.prototype.destroy.apply(this);a("#"+this._id("_fp")).remove()},_fileFromPath:function(b){return b.replace(/(\/|\\)$/,"")}});a.extend(a.ui.igBrowseButton,{version:"11.1.20111.2010"});a.widget("ui.igUpload",{_const:{fileNameLimit:100,AjaxQueueName:"uploadrequestsqueue",debug:true,isProgressBarAnimationEnabled:true,isProgressBarRange:false,timeoutGetFileSize:300,status:{NotStarted:0,Started:1,Finished:2,NoSuchFile:3,Canceled:4},errorCode:{MimeTypeValidation:1,FileSizeExceeded:2},clientSideErrorCode:{maxAllowedUploadingFiles:1,extensionValidation:2,startUpload:3,ajaxErrorGetFileStatus:4,ajaxErrorCancelUpload:5,removeFileUpload:6,ajaxErrorRequestFileSize:7,checkCanUpload:8},fileStatusNoError:-1,progressUpdateInterval:800,animateProgressBarInterval:200,showHideDetailsAnimationTimeout:500,doubleCheckRequestInterval:1000,removeSingleUploadAnimationTimeout:300,maxUploadFilesDefault:-1},css:{clearClass:"ui-helper-clearfix",hiddenClass:"ui-helper-hidden",baseClassIE6:"ui-ie6",baseClassIE7:"ui-ie7",baseClassMoz:"ui-moz",baseClassOpera:"ui-opera",startupBrowseButtonClasses:"ui-igstartupbrowsebutton",baseClass:"ui-widget ui-widget ui-widget-content ui-corner-all ui-igupload",baseMainContainerClass:"ui-igupload-basemaincontainer",multipleDialogClasses:"ui-iguploadmultiple",singleDialogClass:"ui-iguploadsingle",browseButtonClass:"ui-igupload-browsebutton",containerClass:"ui-igupload-container ui-widget-content",uploadProgressClass:"ui-igupload-uploadprogress",fileInfoMainContainer:"ui-igupload-fimaincontainer",progressContainer:"ui-helper-clearfix",progressBarUploadClass:"ui-igupload-progressbar-upload ui-igupload-progressbar-upload-single ui-helper-clearfix",progressBarFileNameClass:"ui-igupload-progressbar-filename",progressBarFileSizeClass:"ui-igupload-progressbar-filesize",progressBarInnerHTMLContainerClass:"ui-igupload-progressbar-container ui-helper-clearfix",containerButtonCancelClass:"ui-container-button-cancel-class  ui-helper-clearfix",summaryProgressBarClass:"ui-igupload-summaryprogressbar",summaryProgressContainerClass:"ui-igupload-summaryprogresscontainer",summaryProgressbarLabelClass:"ui-igupload-summaryprogress-label",summaryInformationContainerClass:"ui-igupload-summaryinformation-container ui-helper-clearfix",summaryUploadedFilesLabelClass:"ui-igupload-summaryuploadedfiles-label",summaryShowHideDetailsButtonClass:"ui-igupload-showhidedetails-button",summaryButtonClass:"ui-igupload-summary-button",summaryProgressBarInnerProgress:"ui-igupload-summaryprogres_summpbar_progress",summaryProgressBarSecondaryLabel:"ui-igupload-summaryprogress-label ui-igupload-summaryprogress-secondary-label",containerFUS:"ui-widget-content ui-igupload-progress-container ui-corner-all ui-helper-clearfix"},options:{width:"",height:"",autostartupload:false,labelUploadButton:a.ig.Upload.locale.labelUploadButton,labelAddButton:a.ig.Upload.locale.labelAddButton,labelClearAllButton:a.ig.Upload.locale.labelClearAllButton,labelSummaryTemplate:a.ig.Upload.locale.labelSummaryTemplate,labelSummaryProgressBarTemplate:a.ig.Upload.locale.labelSummaryProgressBarTemplate,labelShowDetails:a.ig.Upload.locale.labelShowDetails,labelHideDetails:a.ig.Upload.locale.labelHideDetails,labelSummaryProgressButtonCancel:a.ig.Upload.locale.labelSummaryProgressButtonCancel,labelSummaryProgressButtonContinue:a.ig.Upload.locale.labelSummaryProgressButtonContinue,labelSummaryProgressButtonDone:a.ig.Upload.locale.labelSummaryProgressButtonDone,labelProgressBarFileNameContinue:a.ig.Upload.locale.labelProgressBarFileNameContinue,errorMessageMaxFileSizeExceeded:a.ig.Upload.locale.errorMessageFileSizeExceeded,errorMessageGetFileStatus:a.ig.Upload.locale.errorMessageGetFileStatus,errorMessageCancelUpload:a.ig.Upload.locale.errorMessageCancelUpload,errorMessageNoSuchFile:a.ig.Upload.locale.errorMessageNoSuchFile,errorMessageOther:a.ig.Upload.locale.errorMessageOther,errorMessageValidatingFileExtension:a.ig.Upload.locale.errorMessageValidatingFileExtension,errorMessageAJAXRequestFileSize:a.ig.Upload.locale.errorMessageAJAXRequestFileSize,errorMessageTryToRemoveNonExistingFile:a.ig.Upload.locale.errorMessageTryToRemoveNonExistingFile,errorMessageTryToStartNonExistingFile:a.ig.Upload.locale.errorMessageTryToStartNonExistingFile,errorMessageMaxUploadedFiles:a.ig.Upload.locale.errorMessageMaxUploadedFiles,errorMessageMaxSimultaneousFiles:a.ig.Upload.locale.errorMessageMaxSimultaneousFiles,uploadUrl:"ig_fua34sf345sdf13sdf3454erdsf2345asd3425df5235d54df345.aspx",progressUrl:"IGUploadStatusHandler.ashx",allowedExtensions:[],showFileExtensionIcon:true,css:null,fileExtensionIcons:[{ext:[],css:"ui-icon ui-icon-document ui-igupload-progressbar-icon ui-igupload-progressbar-icon-default",def:true},{ext:["exe","app"],css:"ui-icon ui-icon-gear ui-igupload-progressbar-icon ui-igupload-progressbar-icon-exe",def:false},{ext:["gif","jpg","jpeg","png","bmp","yuv","tif","thm","psd"],css:"ui-icon ui-icon-image ui-igupload-progressbar-icon ui-igupload-progressbar-icon-images",def:false},{ext:["mp3","wav","mp4","aac","mid","wma","ra","iff","aif","m3u","mpa"],css:"ui-icon ui-icon-volume-on ui-icon ui-icon-image ui-igupload-progressbar-icon ui-igupload-progressbar-icon-music",def:false},{ext:["doc","docx","xls","xlsx","txt","ppt","pptx","pdf"],css:"ui-icon ui-icon-document ui-igupload-progressbar-icon ui-igupload-progressbar-icon-docs",def:false},{ext:["3gp","asf","asx","avi","flv","mov","mp4","mpg","rm","swf","vob","wmv"],css:"ui-icon ui-icon-video ui-igupload-progressbar-icon ui-igupload-progressbar-icon-video",def:false}],mode:"single",maxUploadedFiles:-1,maxSimultaneousFilesUploads:1,fileSizeMetric:"auto",controlId:"",fileSizeDecimalDisplay:2},events:{fileSelecting:"fileSelecting",fileSelected:"fileSelected",fileUploading:"fileUploading",fileUploaded:"fileUploaded",fileUploadAborted:"fileUploadAborted",cancelAllClicked:"cancelAllClicked",onError:"onError"},summaryButtonModes:{cancel:1,startupload:2,done:3},container:function(){return a("#"+this.element[0].id+"_wrprinit")},widget:function(){return this.element},_id:function(b,d){var c=this.element[0].id;if(d!==undefined){return c+"_"+d+"_"+b}return c+b},_create:function(){var b={formNumber:0,iframe:{ids:[]},pendingQueueIDs:[],uploadingIDs:[],batch:[],lastId:-1,filesInfo:[],countUploadingFiles:0,countTotalFiles:0,fileSizeUploaded:0,fileSizeTotal:0};this.allCancelled=false;this.fileInfoData=b;this._renderStartupBrowseButton();this.container().width(this.options.width).height(this.options.height);this._attachFakeIframe()},_attachFakeIframe:function(){var b=this._id("_tempIframe"),c=a.browser.version.slice(0,1);if(a.browser.msie===true&&(c==="6"||c==="7"||c==="8")){a("#"+b).remove();setTimeout(a('<iframe src="javascript:false;" id="'+b+'" style="display: none;"></iframe>').appendTo(a("#"+this._id("_fu"))),300)}},_renderStartupBrowseButton:function(){var c=this,g=c.css,i=c.element,d=c.options,h=this._id("_ibb"),f=this._id("_wrprinit"),j,b;this.originalElement=i;j='<div id="'+f+'"></div>';i.wrap(j);i.hide();i=a("#"+f);h=this._id("_ibb");if(a.browser.msie===true&&a.browser.version.slice(0,1)==="6"){i.addClass(g.baseClassIE6)}else{if(a.browser.msie===true&&a.browser.version.slice(0,1)==="7"){i.addClass(g.baseClassIE7)}else{if(a.browser.opera===true){i.addClass(g.baseClassOpera)}else{if(a.browser.mozilla===true){i.addClass(g.baseClassMoz)}}}}b=a("<button></button>").appendTo(i).attr("id",h).addClass(g.startupBrowseButtonClasses);b.igBrowseButton({labelText:d.labelUploadButton,title:a.ig.Upload.locale.titleUploadFileButtonInit,fileselect:function(e){a(this).css({display:"none"});c._HTMLUpload();c._onBrowseButtonFileSelected(e,true)},click:function(e){var k=false;if(c._trigger(c.events.fileSelecting,e)===false){k=true}return !k}})},_HTMLUpload:function(){var m=this._id("_fu"),i=this._id("_bmncntr"),h=this.options,l=this.container(),c=this,f=c.css,j=this._id("_fc"),n=this._id("_bb"),b=this._id("_clrabtn"),k=this._id("_fi_main_cntnr"),g,d="";if(h.mode==="single"){d+='<div  class="'+f.singleDialogClass+'" id="$baseMainContainerId">';d+='   <div id="$uploaderId$" class="$baseMainContainerClass">';d+='       <div id="$fileContainerId$"></div>';d+='       <button id="$browseButtonId$" class="$browseButtonClass$"></button>';d+="   </div>";d+="</div>"}else{if(h.mode==="multiple"){d='<div class="'+f.multipleDialogClasses+'" id="$baseMainContainerId">';d+='   <div  id="$uploaderId$" class="$baseMainContainerClass">';d+='       <div id="$uploaderFilesContainer" class="$fuMainContainerClass">';d+='           <button id="$browseButtonId$" class="$browseButtonClass$"></button>';d+='           <button id="$clearAllButtonId$"></button>';d+='           <div id="$fileContainerId$"></div>';d+="       </div>";d+="   </div>";d+="</div>"}}d=d.replace("$uploaderId$",m).replace("$browseButtonId$",n).replace("$baseMainContainerId",i).replace("$browseButtonClass$",f.browseButtonClass).replace("$fileContainerId$",j).replace("$clearAllButtonId$",b).replace("$uploaderFilesContainer",k).replace("$fuMainContainerClass",f.fileInfoMainContainer).replace("$baseMainContainerClass",f.baseMainContainerClass);a(d).appendTo(l).css({width:h.width,height:h.height}).addClass(f.baseClass);g=a("#"+b);if(g.length>0){g.igButton({title:a.ig.Upload.locale.titleClearAllButton,labelText:h.labelClearAllButton,disabled:true,click:function(e){e.preventDefault();c.clearAll()},css:{buttonClasses:"ui-igbutton ui-igupload-button-clear-all",buttonHoverClasses:"",buttonActiveClasses:"",buttonFocusClasses:"",buttonLabelClass:""}})}a("#"+n).igBrowseButton({labelText:this.options.labelAddButton,title:a.ig.Upload.locale.titleAddFileButton,fileselect:function(e){c._onBrowseButtonFileSelected(e,false)},click:function(e){var o=false;if(c._trigger(c.events.fileSelecting,e)===false){o=true}return !o}});a("#"+j).addClass(f.containerClass);if(h.mode==="multiple"){c._spbRenderInit()}},_disableBrowseButton:function(b){a("#"+this._id("_bb")).igBrowseButton("option","disabled",b);a("#"+this._id("_ibb")).igBrowseButton("option","disabled",b)},_checkMaxUploadingFilesCount:function(){var b=this.options,d=true,c=this.fileInfoData.countTotalFiles+1;if(b.maxUploadedFiles!==this._const.maxUploadFilesDefault&&b.maxUploadedFiles!==null&&c>b.maxUploadedFiles){d=false}return d},_onBrowseButtonFileSelected:function(b,f){var c=this,e=this.fileInfoData,d=c.options,g=a("#"+this._id("_fu"));if(c._checkMaxUploadingFilesCount()===false){c._setError(d.errorMessageMaxUploadedFiles,c._const.clientSideErrorCode.maxAllowedUploadingFiles,"clientside");c._disableBrowseButton(true);return}else{if(d.maxUploadedFiles!==null&&d.maxUploadedFiles!==this._const.maxUploadFilesDefault&&d.maxUploadedFiles===(e.countTotalFiles+1)){c._disableBrowseButton(true)}}if(d.mode==="single"){if(e.iframe.ids.length===0){c._removeSingleUpload(e.lastId);if(c._attachIframe(b,g,f)===true){c._disableBrowseButton(true)}}}else{if(d.mode==="multiple"){if(c._attachIframe(b,g,f)===false){c._disableBrowseButton(false)}}}},clearAll:function(){var f=this.container(),b=f.data("finishedIDs"),c,d;if(b===undefined){return}d=b.length;for(c=0;c<d;c++){this._removeSingleUpload(b[c])}b=[];f.data("finishedIDs",b);this._disableClearAllButton()},_enableClearAllButton:function(){a("#"+this._id("_clrabtn")).igButton({disabled:false})},_disableClearAllButton:function(){a("#"+this._id("_clrabtn")).igButton("option","disabled",true)},_attachIframe:function(d,n,l){var i=this,q=i.options,b=this.fileInfoData,g=this._id("_bb"),r=a("#"+g),p=b.formNumber++,j=this._id("_ifrm",p),s=this._id("_frm",p),m,k=this.fileInfoData,c,h,u=i._randomString(30),e=i._const.status.Started,f=q.controlId,t=q.uploadUrl+"?key="+u+"&cid="+f;if(l===true){m=a("#"+this._id("_ibb")).igBrowseButton("getFilePicker")}else{m=r.igBrowseButton("getFilePicker")}if(i._validateFileExtension(m[0].value)===false){m.remove();i._setError(q.errorMessageValidatingFileExtension,i._const.clientSideErrorCode.extensionValidation,"clientside");if(q.mode==="multiple"){i._spbRenderProgress()}return false}k.filesInfo[p]={path:m.val(),key:u,sizeBytes:0,uploadedBytes:0,status:i._const.status.NotStarted,checksNoSuchFile:0,innerStatus:i._const.status.NotStarted};k.countTotalFiles++;i._spbRenderProgress();c=a('<iframe src="javascript:false;" id="'+j+'" name="'+j+'"></iframe>').appendTo(n).css({display:"none"});h=a('<form method="post" enctype="multipart/form-data"></form>').attr("id",s).attr("target",j).attr("action",t).appendTo(n);m.attr("name",s+"_if").attr("id",s+"_if").appendTo(h);i._HTMLSingleUpload(p);if(q.autostartupload===true){if(i._checkCanUpload()===true){i.startUpload(p);i._addUploadingID(p)}else{i._addPendingId(p);e=i._const.status.NotStarted;i._getFileSize(p,u)}}else{if(q.mode==="single"){i._showSingleUploadStartUpload(true,p);i._getFileSize(p,u)}else{i._addIDBatch(p);e=i._const.status.NotStarted;i._getFileSize(p,u)}}b.iframe.ids[b.iframe.ids.fileId]={id:p,status:e};if(q.mode==="multiple"){i._spbCheckModeButton()}i._trigger(i.events.fileSelected,d,{fileId:p,filePath:i._getOnlyFileName(m.val())});return true},_showSingleUploadStartUpload:function(){var f=this,b=f.options,c="_strtuplbtn",d=a("#"+this._id(c)),e=a("#"+this._id("_bb"));if(d.length===0){a('<button id="'+f._id(c)+'"></button>').appendTo(a("#"+f._id("_fu"))).igButton({labelText:b.labelSummaryProgressButtonContinue,title:a.ig.Upload.locale.titleSingleUploadButtonContinue,click:function(g){g.preventDefault();f.startUpload((f.fileInfoData.formNumber-1));a("#"+f._id(c)).hide();e.igBrowseButton("option","disabled",true).show();e.igBrowseButton("attachFilePicker",g,true)}});d=a("#"+this._id(c))}e.hide();d.show()},_removeIframe:function(b){var d=this,c=this.fileInfoData,e=this._id("_ifrm",b),f=this._id("_frm",b),g=a("#"+d._id("_bb"));a("#"+e).remove();a("#"+f).remove();c.iframe.ids=d._removeElementArrayById(c.iframe.ids,b);if(d.options.mode==="single"){g.igBrowseButton("option","disabled",false);c.lastId=b}this._attachFakeIframe()},_HTMLSingleUpload:function(w){var i=this,q=this.options,f=i.css,j=i._id("_fc"),b=i._id("_fus",w),g=i._id("_snglpbar",w),k=i._id("_icn",w),s=i._id("_frm",w),h=i._id("_cbtn",w),u=s+"_if",d=a("#"+j),n=a("#"+u),e,c=n.val(),x,l=i._id("_pbrflnm",w),r=i._id("_pbrflsz",w),m,v,p,t=i._getFileExtensionIconPath(i._getFileExtension(c));x='<div id="'+b+'">';x+='   <div class="'+f.containerFUS+'">';x+='       <div class="'+f.containerButtonCancelClass+'">';x+='           <button id="'+h+'"></button>';x+="       </div>";x+='       <div class="'+f.progressContainer+'">';x+='           <div class="'+f.progressBarInnerHTMLContainerClass+'">';x+='               <span id="'+k+'" class="'+t+'"></span>';x+='               <span class="'+f.progressBarFileNameClass+'" id="'+l+'"></span>';x+='               <span class="'+f.progressBarFileSizeClass+'" id="'+r+'"></span>';x+="           </div>";x+='           <div id="'+g+'" class="'+f.progressBarUploadClass+'"></div>';x+="       </div>";x+="   </div>";x+="</div>";a(x).appendTo(d);e=a("#"+b).addClass(f.uploadProgressClass+" "+f.clearClass);p=a("#"+g);a("#"+h).igButton({onlyIcons:true,icons:{primary:"ui-icon-closethick"},title:a.ig.Upload.locale.titleCancelUploadButton,click:function(o){o.preventDefault();i.cancelUpload(w);a("#"+h).igButton("option","disabled",true).igButton("option","icons",{primary:"ui-icon-check",secondary:null})},css:{buttonClasses:"ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-igbutton ui-igupload-cancel-button",buttonHoverClasses:"ui-state-hover",buttonActiveClasses:"ui-state-active",buttonFocusClasses:"ui-state-focus",buttonLabelClass:"ui-button-text",buttonDisabledClass:"ui-state-disabled",buttonPrimaryIconClass:"ui-button-icon-primary ui-icon",buttonMainElementPrimaryIconClass:" ui-button-text-icon-primary",buttonMainElementSecondaryIconClass:" ui-button-text-icon-secondary",buttonSecondaryIconClass:"ui-button-icon-secondary ui-icon",buttonIconsOnly:"ui-button-icons-only",buttonIconOnly:"ui-button-icon-only",buttonIcons:"ui-button-text-icons",buttonTextOnlyClass:"ui-button-text-only"}});p.igProgressBar({animate:i._const.isProgressBarAnimationEnabled,animateTimeout:i._const.animateProgressBarInterval,range:i._const.isProgressBarRange,value:0});if(!q.showFileExtensionIcon){a("#"+k).css("display","none")}m=a("#"+l);v=a("#"+r);c=i._getOnlyFileName(c);p.data("originalFileName",c);if(c.length>i._const.fileNameLimit){c=c.substr(0,i._const.fileNameLimit)}m.text(i._formatFilePath(c));i._renderFileName(w,0,c)},_renderFileName:function(m,d,i){var g=this,j=g.options,b=i,k="",n,h=a("#"+g._id("_pbrflnm",m)),l=a("#"+g._id("_pbrflsz",m)),f=a("#"+g._id("_snglpbar",m)).width(),e=a("#"+g._id("_snglpbar",m)),c=l.width();if(b===undefined||b===null){b=e.data("fileName")}if(f<=0){b=j.labelProgressBarFileNameContinue;h.text(b)}else{if(d!==0&&d!==undefined&&d!==null){n=l.text();c=l.text(g._formatFileSize(d)+"/"+g._formatFileSize(d)).width();l.text(n)}while(h.position().left+h.width()+c>=f&&(k!==b)){k=b;b=b.substr(0,b.length/2);if(k===b&&b.length-1>1){b=b.substr(0,(b.length-1)/2)}h.text(b+j.labelProgressBarFileNameContinue)}if(h.position().left+h.width()+l.width()>=f){b=j.labelProgressBarFileNameContinue}}e.data("fileName",b)},_removeSingleUpload:function(c){var e=this,d=e._id("_fus",c),b=d+"_"+e._randomString(20);if(e.options.mode==="multiple"){a("#"+d).attr("id",b);e._renderAnimatedRemovingUpload(b)}else{if(e.options.mode==="single"){a("#"+d).hide().remove()}}},_renderAnimatedRemovingUpload:function(b){a("#"+b).slideUp(this._const.removeSingleUploadAnimationTimeout,function(){a(this).remove()})},startUpload:function(d){var e=this,c=e._id("_frm",d),b=this.fileInfoData;if(d===null||b.filesInfo[d]===null||b.filesInfo[d]===undefined){e._setError(e.options.errorMessageTryToStartNonExistingFile.replace("{0}",d),e._const.clientSideErrorCode.startUpload,"clientside");return}if(b.filesInfo[d].status!==e._const.status.NotStarted){return}a("#"+c).submit();b.filesInfo[d].status=e._const.status.Started;b.filesInfo[d].innerStatus=e._const.status.Started;e._spbRenderProgress();setTimeout(function(){e._getFileStatus(d,true)},e._const.progressUpdateInterval)},_getFileStatus:function(t,q){var g=this,k=g.options,p=g._id("_frm",t),l=p+"_if",b=false,r="",s=0,n=0,i=a("#"+l),c=this._getFileInfo(t),h=this.fileInfoData,e=g._getKey(t),f=h.filesInfo[t],d,m,j="";if(e===null||e===undefined){return}e=e.replace("-$#","").replace("#$-","");a.ajaxQueue("uploadrequestsqueue",{url:g._formatURL(k.progressUrl,a.param({key:e,command:"status"})),dataType:"json",cache:false,success:function(o){s=parseInt(o.bytesUploaded,10);r=parseInt(o.status,10);n=parseInt(o.size,10);j=o.serverMessage;b=(r===g._const.status.Finished);d=parseInt(o.error,10);m=(!isNaN(d)&&d!==g._const.fileStatusNoError);if(f.innerStatus===g._const.status.Canceled&&m){return}if(m===true&&r!==g._const.status.NoSuchFile){g._removeUploadSetError(t,k.errorMessageOther.replace("{0}",d),d,"serverside",j);return}if(c!==null&&c.status!==g._const.status.Canceled){h.fileSizeUploaded-=c.uploadedBytes;if(c.sizeBytes===0||c.sizeBytes===null){c.sizeBytes=n;h.fileSizeTotal+=n}else{if(c.sizeBytes!==n){n=c.sizeBytes}}if(b){h.countUploadingFiles++}c.uploadedBytes=s;c.status=r;h.fileSizeUploaded+=c.uploadedBytes;g._spbRenderProgress();if(g._trigger(g.events.fileUploading,null,{fileId:t,filePath:g._getOnlyFileName(i.val()),totalSize:n,uploadedBytes:s,fileStatus:r})===false){g.cancelUpload(t)}}if(b||r===g._const.status.Started){if(b){g._removeUploadingID(t);if(k.mode==="multiple"){g._spbCheckModeButton();g._submitNextPendingId()}}g._renderStatus(t,s,n,b,q);if(!b){setTimeout(function(){g._getFileStatus(t,false)},g._const.progressUpdateInterval)}}else{if(r===g._const.status.NoSuchFile){if(f!==null&&f!==undefined&&f.checksNoSuchFile===0){f.checksNoSuchFile++;setTimeout(function(){g._getFileStatus(t,false)},g._const.doubleCheckRequestInterval)}else{g._removeUploadSetError(t,k.errorMessageNoSuchFile,"nosuchfilekeyid","serverside",j)}}}},error:function(){g._setError(k.errorMessageGetFileStatus,g._const.clientSideErrorCode.ajaxErrorGetFileStatus,"clientside")}})},_removeUploadSetError:function(f,b,g,h,d){var c=this,e=this.options;c._removeIframe(f);c._removeFileUpload(f);c._setError(b,g,h,d);if(e.mode==="multiple"){c._spbCheckModeButton();c._submitNextPendingId()}},cancelUpload:function(m){var d=this,i=d.options,k=null,c=d._id("_snglpbar",m),g=a("#"+c),f=a("#"+d._id("_frm",m)+"_if"),b=f.val(),n=0,l=0,h=null,j=this._getKey(m),e=this._getFileInfo(m);n=g.data("totalSize");l=g.data("bytesUploaded");if(n===undefined){n=0}if(l===undefined){l=0}if(e!==null){if(e.status===d._const.status.Started){e.innerStatus=d._const.status.Canceled;a.ajaxQueue("uploadrequestsqueue",{url:d._formatURL(i.progressUrl,a.param({key:j,command:"cancel"})),dataType:"json",cache:false,success:function(){if(i.autostartupload===false&&i.mode==="multiple"){k=a("#"+d._id("_spbtncncl"));h=k.data("ids");h=d._removeElementFromArray(h,m);k.data("ids",h)}d._trigger(d.events.fileUploadAborted,null,{fileId:m,filePath:d._getOnlyFileName(b),uploadedBytes:l,totalSize:n,status:d._const.status.Canceled});d._removeFileUpload(m)},error:function(){d._setError(i.errorMessageCancelUpload,d._const.clientSideErrorCode.ajaxErrorCancelUpload,"clientside");d._removeFileUpload(m)}})}else{if(e.status===d._const.status.NotStarted){if(i.mode==="single"){a("#"+this._id("_strtuplbtn")).hide();a("#"+this._id("_bb")).igBrowseButton("option","disabled","false").show()}d._trigger(d.events.fileUploadAborted,null,{fileId:m,filePath:d._getOnlyFileName(b),uploadedBytes:0,totalSize:n,status:d._const.status.NotStarted});d._removeFileUpload(m)}}}d._disableBrowseButton(!d._checkMaxUploadingFilesCount())},_removeFileUpload:function(j){var c=this,g=c.options,b=c._id("_cbtn",j),i=c._id("_snglpbar",j),k=a("#"+i),d=0,h=0,f=this.fileInfoData,e=this._getFileInfo(j);if(e===null){c._setError(g.errorMessageTryToRemoveNonExistingFile.replace("{0}",j),c._const.clientSideErrorCode.removeFileUpload,"clientside");return}d=k.data("totalSize");h=k.data("bytesUploaded");if(d===undefined){d=0}if(h===undefined){h=0}f.countTotalFiles--;e.status=c._const.status.Canceled;f.fileSizeUploaded-=e.uploadedBytes;f.fileSizeTotal-=e.sizeBytes;c._spbRenderProgress();if(g.mode==="multiple"){c._removeUploadingID(j);c._removePendingId(j);c._removeIDBatch(j);if(this.allCancelled===false){c._submitNextPendingId()}c._spbCheckModeButton()}a("#"+b).remove();c._removeIframe(j);c._removeSingleUpload(j)},_getKey:function(c){var b=this.fileInfoData.filesInfo[c];if(b!==null&&b!==undefined){return b.key}else{return null}},_singleFileUploadFinished:function(c){var f=this.container(),d=this,b;a("#"+d._id("_cbtn",c)).igButton("option","disabled",true).igButton("option","icons",{primary:"ui-icon-check",secondary:null});d._removeIframe(c);if(d.options.mode==="multiple"){d._enableClearAllButton();b=f.data("finishedIDs");if(b===undefined){b=[]}b.push(c);f.data("finishedIDs",b)}},_renderStatus:function(k,h,d,m){var e=this,b,f,i=a("#"+e._id("_pbrflsz",k)),g=e._id("_snglpbar",k),l=a("#"+g),c=0,j;if(m){h=d;e._singleFileUploadFinished(k)}if(d!==0&&isNaN(h)===false&&isNaN(d)===false){c=(h/d)*100}l.data("totalSize",d);l.data("bytesUploaded",h);j=l.data("isFileNameRendered");b=l.data("fileName");f=l.data("originalFileName");l.igProgressBar("option","value",c);i.text(e._formatFileSize(h)+"/"+e._formatFileSize(d));if(j!==true){l.data("isFileNameRendered",true);e._renderFileName(k,d)}if(m){e._trigger(e.events.fileUploaded,null,{fileId:k,filePath:f,totalSize:h});if(e._checkMaxUploadingFilesCount()===false){e._disableBrowseButton(true);return}}},_formatURL:function(c,b){if(c.indexOf("?")===-1){c+="?"}c+=b;return c},_showHideIcons:function(b){var d=this.fileInfoData.filesInfo,c;for(c in d){if(d[c]!==undefined){a("#"+this._id("_icn",c)).css(b)}}},_setWidthHeightAllUploads:function(b,e){var f=this.fileInfoData.filesInfo,d=((e)?"height":"width"),c;for(c in f){if(f[c]!==undefined){a("#"+this._id("_snglpbar",c)).igProgressBar("option",d,b)}}},_setOption:function(d,b){var c=this.options.mode;a.Widget.prototype._setOption.apply(this,arguments);switch(d){case"width":this.container().width(b);a("#"+this._id("_bmncntr")).width(b);this._reRenderFileSizeMetrics();break;case"height":this.container().height(b);a("#"+this._id("_bmncntr")).height(b);break;case"labelUploadButton":a("#"+this._id("_ibb")).igBrowseButton("option","labelText",b);break;case"labelAddButton":a("#"+this._id("_bb")).igBrowseButton("option","labelText",b);break;case"labelClearAllButton":a("#"+this._id("_clrabtn")).igButton("option","labelText",b);break;case"labelSummaryTemplate":case"labelSummaryProgressBarTemplate":this._spbRenderProgress();break;case"labelShowDetails":case"labelHideDetails":this._setShowHideDetailsButtonText(a("#"+this._id("_shdbtn")).is("hidden"));a("#"+this._id("_shdbtn")).text(b);break;case"labelSummaryProgressButtonCancel":if(this.spbButtonMode===this.summaryButtonModes.cancel){a("#"+this._id("_spbtncncl")).igButton("option","labelText",b)}break;case"labelSummaryProgressButtonContinue":if(this.spbButtonMode===this.summaryButtonModes.startupload){a("#"+this._id("_spbtncncl")).igButton("option","labelText",b)}break;case"labelSummaryProgressButtonDone":if(this.spbButtonMode===this.summaryButtonModes.done){a("#"+this._id("_spbtncncl")).igButton("option","labelText",b)}break;case"showFileExtensionIcon":b=Boolean(b);this._showHideIcons({display:((!b)?"none":"block")});break;case"fileSizeMetric":this._reRenderFileSizeMetrics();break;case"fileSizeDecimalDisplay":this._reRenderFileSizeMetrics();break;case"maxUploadedFiles":this._disableBrowseButton(!this._checkMaxUploadingFilesCount());break;case"mode":if(c!==b){this.destroy();this._create()}break}},_reRenderFileSizeMetrics:function(){var m=this.fileInfoData.filesInfo,f=m.length,c,j=0,e=this,d,b,g,n,k,h=0;for(c=0;c<f;c++){n=a("#"+e._id("_pbrflsz",c));if(n.length===0){continue}d=m[c].sizeBytes;j=m[c].uploadedBytes;k=a("#"+e._id("_snglpbar",c));if(d!==0&&isNaN(j)===false&&isNaN(d)===false){h=(j/d)*100}b=k.data("fileName");g=k.data("originalFileName");n.text(e._formatFileSize(j)+"/"+e._formatFileSize(d));k.data("isFileNameRendered",true);e._renderFileName(c,d);a("#"+e._id("_summpbrlbl_1")).width(a("#"+this._id("_summpbar")).width())}this._spbRenderProgress()},destroy:function(){var d=a("#"+this._id("_ibb")),c=a("#"+this._id("_bb")),b=a("#"+this._id("_bmncntr"));this.originalElement.show().unwrap();d.igBrowseButton("destroy");c.igBrowseButton("destroy");d.remove();b.remove();this.container().remove();a.Widget.prototype.destroy.apply(this,arguments)},_getFileSize:function(h,j){var b=this,f=this.options,g=this._id("_fszfrm",h),k=a("#"+b._id("_frm",h)+"_if"),e=this._id("_fszifrm",h),i=a("#"+this._id("_fu")),c,d=b._formatURL(f.uploadUrl,a.param({key:j,command:"fileSize"}));a('<iframe src="javascript:false;" id="'+e+'" name="'+e+'"></iframe>').appendTo(i).css({display:"none"});a('<form method="post" id="'+g+'" target="'+e+'" enctype="multipart/form-data"></form>').appendTo(i).css({display:"none"}).attr("action",d);c=a("#"+g);k.appendTo(c);c.submit();c.remove();a("#"+e).ready(function(){setTimeout(function(){b._sendRequestFileSize(h,j)},b._const.timeoutGetFileSize)});k.appendTo(a("#"+b._id("_frm",h)))},_removeGetFileSizeHTML:function(b){var d=a("#"+this._id("_fszifrm",b)),c=a("#"+this._id("_fszfrm",b));d.remove();c.remove()},_sendRequestFileSize:function(h,i){var c=this,f=c._id("_snglpbar",h),j=a("#"+f),e=this.options,b=0,d=this.fileInfoData,g=this._getFileInfo(h);if(g.sizeBytes!==0){return}a.ajaxQueue("uploadrequestsqueue",{url:c._formatURL(e.progressUrl,a.param({key:i,command:"fileSize"})),dataType:"json",cache:false,success:function(k){b=parseInt(k.fileSize,10);if(isNaN(b)===true){return}j.data("totalSize",b);if(g!==null){g.sizeBytes=b;d.fileSizeTotal+=b;c._spbRenderProgress()}c._renderStatus(h,0,b,false,false);c._removeGetFileSizeHTML(h)},error:function(){c._setError(e.errorMessageAJAXRequestFileSize,c._const.clientSideErrorCode.ajaxErrorRequestFileSize,"clientside");c._removeGetFileSizeHTML(h)}})},_onShowHideDetailsClick:function(){var c=this,b=a("#"+c._id("_fc")),d=b.css("margin-top"),e=b.css("margin-bottom");if((a.browser.msie===true&&a.browser.version.slice(0,1)==="6")||(a.browser.msie===true&&a.browser.version.slice(0,1)==="7")){c._setShowHideDetailsButtonText(b.is(":hidden"));if(b.is(":hidden")){b.show()}else{b.hide()}}else{b.css({"margin-top":0,"margin-bottom":0});b.slideToggle(c._const.showHideDetailsAnimationTimeout,function(){b.css({"margin-top":d,"margin-bottom":e});c._setShowHideDetailsButtonText(b.is(":hidden"))})}},_setShowHideDetailsButtonText:function(c){var b=this.options,d=a("#"+this._id("_shdbtn"));if(c){d.text(b.labelShowDetails);d.attr("title",a.ig.Upload.locale.titleShowDetailsButton)}else{d.text(b.labelHideDetails);d.attr("title",a.ig.Upload.locale.titleHideDetailsButton)}},getFileInfoData:function(){return this.fileInfoData},cancelAll:function(){var c,b=this.fileInfoData,j=b.uploadingIDs,e=j.length,d=b.pendingQueueIDs,f=d.length,g=b.batch,h=g.length;this.allCancelled=true;for(c=0;c<e;c++){if(j[c]!==undefined){this.cancelUpload(j[c])}}for(c=0;c<f;c++){if(d[c]!==undefined){this.cancelUpload(d[c])}}for(c=0;c<h;c++){if(g[c]!==undefined){this.cancelUpload(g[c])}}j=[];d=[];g=[];a("#"+this._id("_spbtncncl")).data("ids",[]);this.allCancelled=false},_submitAllFormsUpload:function(){var c=this,b,f,g=this.fileInfoData.batch,d=g.length,h=[],e=[];for(b=0;b<d;b++){f=g[b];if(c._checkCanUpload()){c._addUploadingID(f);c.startUpload(f);h.push(f)}else{c._addPendingId(f);e.push(f)}}this.fileInfoData.batch=[]},_spbRenderInit:function(){var r=this,j=this.options,p=r.css,d=this._id("_fu"),k=j.labelSummaryProgressButtonContinue,l=this._id("_spbcntr"),f=this._id("_summpbrlbl"),i=this._id("_summpbar"),h=this._id("_summplbl"),c=this._id("_shdbtn"),g=this._id("_spbtncncl"),n=this._id("_spdtlbtn"),m,s="",b,q="progressData",e=a.ig.Upload.locale.titleSummaryProgressButtonContinue;s+='<div id="$summaryProgressContainerId$">';s+='   <div  class="'+p.summaryInformationContainerClass+'">';s+='       <span id="$summaryProgressLabelId$" class="'+p.summaryUploadedFilesLabelClass+'"></span><a href="javascript:void(0);" id="$showHideDetailsId$" class="'+p.summaryShowHideDetailsButtonClass+'">$labelShowHideDetails$</a>';s+="   </div>";s+='   <div class="'+p.clearClass+'">';s+='       <button id="$summaryProgressButtonCancelId$"></button>';s+='       <div id="$summaryProgressBarId$"></div>';s+="   </div>";s+="</div>";s=s.replace("$summaryProgressContainerId$",l).replace("$summaryProgressLabelId$",h).replace("$summaryProgressDetailsButtonId$",n).replace("$summaryProgressBarId$",i).replace("$showHideDetailsId$",c).replace("$labelShowHideDetails$",j.labelHideDetails).replace("$labelSummaryProgressButtonCancel$",j.labelSummaryProgressButtonCancel).replace("$summaryProgressButtonCancelId$",g);a(s).appendTo(a("#"+d));b={IDs:{},CurrentUploadedFiles:0,CurrentUploadedSize:0,TotalFileSize:0,TotalFiles:0,UploadingFiles:0};a("#"+l).data(q,b).addClass(p.summaryProgressContainerClass+" "+p.clearClass);m=a("#"+i);a('<span id="'+f+'"></span>').addClass(p.summaryProgressbarLabelClass).appendTo(m.igProgressBar({animate:r._const.isProgressBarAnimationEnabled,animateTimeout:r._const.animateProgressBarInterval,range:r._const.isProgressBarRange,value:0}).addClass(p.summaryProgressBarClass));a('<div id="'+f+'_1"></div>').width(m.width()).addClass(p.summaryProgressBarSecondaryLabel).appendTo(a("#"+this._id("_summpbar_progress")).addClass(p.summaryProgressBarInnerProgress));a("#"+c).bind({click:function(o){o.preventDefault();r._onShowHideDetailsClick()}});if(a.ig.Upload.locale.titleHideDetailsButton!==false){a("#"+c).attr("title",a.ig.Upload.locale.titleHideDetailsButton)}if(j.autostartupload){k=j.labelSummaryProgressButtonCancel;e=a.ig.Upload.locale.titleSummaryProgressButtonCancel;this.spbButtonMode=this.summaryButtonModes.cancel}a("#"+g).igButton({labelText:k,title:e,disabled:false,click:function(o){o.preventDefault();r._spbOnClickButton(o)}}).addClass(p.summaryButtonClass)},_spbRenderProgress:function(){var h=this.options,k=a("#"+this._id("_summpbar")),e=a("#"+this._id("_summplbl")),g=a("#"+this._id("_summpbrlbl")),j=a("#"+this._id("_summpbrlbl_1")),d="",b=0,c=this.fileInfoData,i=c.fileSizeTotal,f=c.fileSizeUploaded;if(i!==0&&isNaN(i)===false){b=(f/i)*100}else{if(i===0){b=0}}if(c.countUploadingFiles===c.countTotalFiles){if(c.countTotalFiles===0){b=0}else{b=100}f=i}k.igProgressBar("option","value",b);d=h.labelSummaryProgressBarTemplate.replace("{0}",this._formatFileSize(f)).replace("{1}",this._formatFileSize(i)).replace("{3}",b);e.html(h.labelSummaryTemplate.replace("{0}",c.countUploadingFiles).replace("{1}",c.countTotalFiles));g.text(d);j.text(d)},_spbOnClickButton:function(c){var d=this.summaryButtonModes,b=this.spbButtonMode;c.preventDefault();if(b===d.cancel){this._trigger(this.events.cancelAllClicked,c);this.cancelAll()}else{if(b===d.startupload){this._spbSubmitAllButton()}}},_spbSubmitAllButton:function(){this._submitAllFormsUpload();this._spbCheckModeButton()},_spbCheckModeButton:function(){var b=this.fileInfoData;if(this.options.autostartupload){if(b.pendingQueueIDs.length>0||b.uploadingIDs.length>0){this._spbSetCancelButton()}else{this._spbSetButtonDone()}}else{if(b.pendingQueueIDs.length===0&&b.uploadingIDs.length===0){if(b.batch.length>0){this._spbSetContinueButton()}else{this._spbSetButtonDone()}}else{this._spbSetCancelButton()}}},_spbSetButtonDone:function(){var c=this.options,b=a("#"+this._id("_spbtncncl"));this.spbButtonMode=this.summaryButtonModes.done;b.igButton("option","labelText",c.labelSummaryProgressButtonDone).igButton("option","title",a.ig.Upload.locale.titleSummaryProgressButtonDone).igButton("option","disabled",true)},_spbSetContinueButton:function(){var c=this.options,b=a("#"+this._id("_spbtncncl"));this.spbButtonMode=this.summaryButtonModes.startupload;b.igButton({title:a.ig.Upload.locale.titleSummaryProgressButtonContinue,labelText:c.labelSummaryProgressButtonContinue,disabled:false})},_spbSetCancelButton:function(){var b=a("#"+this._id("_spbtncncl"));this.spbButtonMode=this.summaryButtonModes.cancel;b.igButton("option","labelText",this.options.labelSummaryProgressButtonCancel).igButton("option","title",a.ig.Upload.locale.titleSummaryProgressButtonCancel).igButton("option","disabled",false)},_getFileInfo:function(b){var c=this.fileInfoData.filesInfo[b];if(c===undefined||c===null){return null}return c},_formatFilePath:function(b){var c=b.lastIndexOf("/");b=b.replace(/(\/|\\)$/,"");if(c===-1){c=b.lastIndexOf("\\")}return b.substring(c+1)},_checkCanUpload:function(){var b=this.options,c=this.fileInfoData,d=true,e=b.maxSimultaneousFilesUploads;if(b.mode==="multiple"&&e!==null&&c.uploadingIDs.length>=e){d=false;if(e<=0){this._setError(b.errorMessageMaxSimultaneousFiles,this._const.clientSideErrorCode.checkCanUpload,"clientside")}}return d},_addPendingId:function(b){this.fileInfoData.pendingQueueIDs.push(b)},_removePendingId:function(c){var d=this.fileInfoData.pendingQueueIDs,b;if(c!==undefined&&c!==null){b=c;this.fileInfoData.pendingQueueIDs=this._removeElementFromArray(d,b)}else{b=d.shift();if(b===undefined){b=null}}return b},_addUploadingID:function(b){this.fileInfoData.uploadingIDs.push(b)},_removeUploadingID:function(b){this.fileInfoData.uploadingIDs=this._removeElementFromArray(this.fileInfoData.uploadingIDs,b)},_addIDBatch:function(b){this.fileInfoData.batch.push(b)},_removeIDBatch:function(b){this.fileInfoData.batch=this._removeElementFromArray(this.fileInfoData.batch,b)},_submitNextPendingId:function(){var b=this,c;if(b._checkCanUpload()===true){c=b._removePendingId();if(c!==null){b._addUploadingID(c);b.startUpload(c)}}},_randomString:function(b){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",c="",f,d;for(f=0;f<b;f++){d=Math.floor(Math.random()*e.length);c+=e.substring(d,d+1)}return c},_cutFilePath:function(d,c){var b=d.length;if(b<=c){return d}},_getOnlyFileName:function(b){var c="";if(b===null||b===undefined){return""}if(b.indexOf("/")!==-1){c="/"}else{if(b.indexOf("\\")!==-1){c="\\"}}if(c!==""){b=b.substr(b.lastIndexOf(c)+1)}return b},_getFileExtension:function(b){return b.substring(b.lastIndexOf(".")+1)},_validateFileExtension:function(c){var d="",b=this.options.allowedExtensions;if(b.length===0){return true}else{d=c.substring(c.lastIndexOf(".")+1);return a.inArray(d,b)>=0}},_getFileExtensionIconPath:function(f){var e=this.options.fileExtensionIcons,c,b="",d=e.length;f=String(f).toLowerCase();for(c=0;c<d;c++){if(e[c].ext!==undefined&&(e[c].ext===f||a.inArray(f,e[c].ext)!==-1)){b=e[c].css;break}else{if(b===""&&e[c].def===true){b=e[c].css}}}return b},_setError:function(e,d,g,b){var c=this.options,f=this._const.errorCode;if(b===undefined){b=""}if(g==="serverside"){switch(d){case f.MimeTypeValidation:e=c.errorMessageValidatingFileExtension;break;case f.FileSizeExceeded:e=c.errorMessageMaxFileSizeExceeded;break}}this._trigger(this.events.onError,null,{errorCode:d,errorMessage:e,errorType:g,serverMessage:b})},_formatFileSize:function(c){var d=this.options.fileSizeMetric,b=c;switch(d){case"bytes":b=c+"B";break;case"kbytes":b=this._convertToKBytes(c);break;case"mbytes":b=this._convertToMBytes(c);break;case"gbytes":b=this._convertToGBytes(c);break;case"auto":if(c<1024){b=c+"B"}else{if(c<1024*1024){b=this._convertToKBytes(c)}else{if(c<1024*1024*1024){b=this._convertToMBytes(c)}else{b=this._convertToGBytes(c)}}}break;default:break}return b},_convertToKBytes:function(b){var c=b/1024;return c.toFixed(this.options.fileSizeDecimalDisplay)+"KB"},_convertToMBytes:function(b){var c=b/(1024*1024);return c.toFixed(this.options.fileSizeDecimalDisplay)+"MB"},_convertToGBytes:function(b){var c=b/(1024*1024*1024);return c.toFixed(this.options.fileSizeDecimalDisplay)+"GB"},_removeElementArrayById:function(c,b){if(c===undefined||c===null){return[]}return a.grep(c,function(d){return(d.id!==b)})},_removeElementFromArray:function(c,b){if(c===undefined||c===null){return[]}return a.grep(c,function(d){return(d!==b)})}});a.extend(a.ui.igUpload,{version:"11.1.20111.2010"})}(jQuery));