(function(a){a.widget("ui.igLoading",{options:{cssClass:null},_indicator:null,_create:function(){var b,c;c=this.options.cssClass===null?"ui-igloadingmsg":this.options.cssClass;if(this.element.children("."+c).length===0){this._indicator=a("<span></span>").appendTo("body").attr("id",this.element[0].id+"_loading").addClass(c);b=this.element.offset();this._indicator.css("left",b.left+this.element.innerWidth()/2).css("top",b.top+this.element.innerHeight()/2)}},indicatorElement:function(){return this._indicator},indicator:function(){return this},show:function(){this.refreshPos();this._resId=setInterval(a.proxy(this._resizeContainer,this),300);this._indicator.show()},hide:function(){this._indicator.hide();clearInterval(this._resId)},_resizeContainer:function(){var b=this.element.offset();if(b.top+this.element.innerHeight()/2!==this._indicator.css("top")){this.refreshPos()}},refreshPos:function(){var b=this.element.offset();this._indicator.css("left",b.left+this.element.innerWidth()/2).css("top",b.top+this.element.innerHeight()/2)},destroy:function(){clearInterval(this._resId);this._indicator.remove()}});a.extend(a.ui.igLoading,{version:"11.1.20111.2010"});a.widget("ui.igSlider",a.ui.mouse,{options:{animate:false,max:100,min:0,orientation:"horizontal",step:1,value:0,bookmarks:[{value:0,title:"",disabled:false,css:""}],showBookmarkTitle:true,syncHandleWithBookmark:true},css:{baseClasses:"ui-igslider ui-widget ui-widget-content ui-corner-all",horizontalOrientationClass:"ui-igslider-horizontal",verticalOrientationClass:"ui-igslider-vertical",sliderDisabledClass:"ui-igslider-disabled ui-disabled",handleClass:"ui-igslider-handle",bookmarkClass:"ui-igslider-bookmark",bookmarkDisabledClass:"ui-igslider-bookmark-disabled",bookmarkTooltipClass:"ui-igslider-bookmark-tooltip"},events:{start:"start",slide:"slide",stop:"stop",change:"change",bookmarkHit:"bookmarkhit",bookmarkClick:"bookmarkclick"},_numpages:5,widget:function(){return this.element},_createWidget:function(c,b){this.options.bookmarks=[];a.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){var b=this.options,d=this,c=this.css;this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass(c.baseClasses);if(b.disabled){this.element.addClass(c.sliderDisabledClass)}if(a(".ui-igslider-handle",this.element).length===0){a("<a href='#'></a>").appendTo(this.element).addClass(c.handleClass)}this.handles=a(".ui-igslider-handle",this.element).addClass("ui-state-default ui-corner-all").bind({click:function(e){e.preventDefault()},mouseover:function(){if(!b.disabled){a(this).addClass("ui-state-hover")}},mouseout:function(){a(this).removeClass("ui-state-hover")},focus:function(){if(!b.disabled){a(".ui-igslider .ui-state-focus").removeClass("ui-state-focus");a(this).addClass("ui-state-focus")}else{a(this).blur()}},blur:function(){a(this).removeClass("ui-state-focus")},keydown:function(i){var g=true,f=a(this).data("index.ui-igslider-handle"),j,k,h,e;if(d.options.disabled){return}switch(i.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:g=false;if(!d._keySliding){d._keySliding=true;a(this).addClass("ui-state-active");j=d._start(i,f);if(j===false){return}}break}e=d.options.step;k=h=d.value();switch(i.keyCode){case a.ui.keyCode.HOME:h=d.options.min;break;case a.ui.keyCode.END:h=d.options.max;break;case a.ui.keyCode.PAGE_UP:h=d._trimValue(k+((d.options.max-d.options.min)/this._numpages));break;case a.ui.keyCode.PAGE_DOWN:h=d._trimValue(k-((d.options.max-d.options.min)/this._numpages));break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(k===d.options.max){return}h=d._trimValue(k+e);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(k===d.options.min){return}h=d._trimValue(k-e);break}d._slide(i,f,h);return g},keyup:function(f){var e=a(this).data("index.ui-igslider-handle");if(d._keySliding){d._keySliding=false;d._stop(f,e);d._change(f,e);a(this).removeClass("ui-state-active")}}}).each(function(e){a(this).data("index.ui-igslider-handle",e)});this.handle=this.handles.eq(0);this._renderBookmarks();this._refreshValue();this._animateOff=false},_renderBookmarks:function(){if(this.options.bookmarks&&this.options.bookmarks.length>0){var d=this.options.bookmarks.length,b=0,e=this.options,f=this.css,g,c=this;for(b;b<d;b++){g=e.bookmarks[b];a("<a href='#'></a>").appendTo(this.element).data("index.ui-igslider-bookmark",b).addClass(g.disabled?f.bookmarkDisabledClass:f.bookmarkClass).addClass(g.css&&g.css.length>0?g.css:"").css("left",(e.min!==e.max)?((g.value-e.min)/(e.max-e.min)*100)+"%":"0%")}this.bookmarks=a(".ui-igslider-bookmark",this.element).addClass("ui-state-default").bind({mousedown:function(h){var i=true,j=a(this).data("index.ui-igslider-bookmark");h.preventDefault();h.stopPropagation();i=c._bookmarkClicked(h,j);if(c.options.syncHandleWithBookmark&&i){c._slide(h,0,c.options.bookmarks[j].value)}},mouseover:function(h){if(!e.disabled){a(this).addClass("ui-state-hover");if(c.options.showBookmarkTitle){c._showBookmarkTitle(a(this),h)}}},mouseout:function(){if(!e.disabled){a(this).removeClass("ui-state-hover");if(c.options.showBookmarkTitle){c._hideBookmarkTitle(a(this))}}},click:function(h){h.preventDefault()}});this._createBookmarkTooltip();this._buildBookmarkHit()}},destroy:function(){this.handles.remove();this.clearBookmarks();this.element.removeClass(this.css.baseClasses+" ui-igslider-horizontal ui-igslider-vertical ui-igslider-disabled").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_id:function(b){return this.element[0].id+b},_showBookmarkTitle:function(e,c){var d=a("#"+this._id("_tooltip")),f=e.position(),b=this.options.bookmarks[e.data("index.ui-igslider-bookmark")].title;if(b&&b.length>0){d.igTooltip("option","text",b);d.css("top",c.pageY-d.outerHeight()-5).css("left",c.pageX-(d.width()/2)+(e.width()/2)).show()}},_hideBookmarkTitle:function(b){a("#"+this._id("_tooltip")).hide()},_createBookmarkTooltip:function(){var b='<div id="'+this._id("_tooltip")+'" class="'+this.css.bookmarkTooltipClass+'"></div>';a(b).appendTo(a(document.body)).igTooltip({arrowLocation:"bottom"}).hide()},clearBookmarks:function(){if(this.bookmarks){this.bookmarks.remove()}},_mouseCapture:function(h){var e=this.options,f,g,j=0,d=this.handles.eq(j),c=this,i,b,k;if(e.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();f={x:h.pageX,y:h.pageY};g=this._normValueFromMouse(f);this._mouseSliding=true;c._handleIndex=j;d.addClass("ui-state-active");if(!a.browser.opera){d.focus()}b=d.offset();k=!a(h.target).parents().andSelf().is(".ui-igslider-handle");this._clickOffset=k?{left:0,top:0}:{left:h.pageX-b.left-(d.width()/2),top:h.pageY-b.top-(d.height()/2)-(parseInt(d.css("borderTopWidth"),10)||0)-(parseInt(d.css("borderBottomWidth"),10)||0)+(parseInt(d.css("marginTop"),10)||0)};this._slide(h,j,g);this._animateOff=true;this._mouseUpHandler=function(l){return c._mouseStop(l)};a(document).bind("mouseup."+this.widgetName,this._mouseUpHandler);return true},_mouseStart:function(b){a(document).unbind("mouseup."+this.widgetName,this._mouseUpHandler);return this._start(b,this._handleIndex)},_mouseDrag:function(c){var b={x:c.pageX,y:c.pageY},d=this._normValueFromMouse(b);this._slide(c,this._handleIndex,d);return false},_mouseStop:function(b){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(b,this._handleIndex);this._change(b,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){var b=this.options,c=this.css;if(b.orientation==="vertical"){this.orientation="vertical";this.element.removeClass(c.horizontalOrientationClass).addClass(c.verticalOrientationClass)}else{this.orientation="horizontal";this.element.removeClass(c.verticalOrientationClass).addClass(c.horizontalOrientationClass)}},_normValueFromMouse:function(d){var g,e,f,c,b;if(this.orientation==="horizontal"){g=this.elementSize.width;e=d.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{g=this.elementSize.height;e=d.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}f=(e/g);if(f>1){f=1}if(f<0){f=0}if(this.orientation==="vertical"){f=1-f}c=this.options.max-this.options.min;b=this.options.min+f*c;return this._trimValue(b)},_start:function(c,b){var d={handle:this.handles[b],value:this.value()};return this._trigger(this.events.start,c,d)},_slide:function(c,b,d){var e;if(d!==this.value()){e=this._trigger(this.events.slide,c,{handle:this.handles[b],value:d});if(e!==false){this.value(d)}}},_stop:function(c,b){var d={handle:this.handles[b],value:this.value()};this._trigger(this.events.stop,c,d)},_change:function(c,b){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[b],value:this.value()};this._trigger(this.events.change,c,d);this._checkBookmarkHit(d.value,c);if(d.value===this.options.max&&this._marksHit&&this._marksHit.length===0){this._buildBookmarkHit()}}},_checkBookmarkHit:function(c,d){if(this._marksHit&&this._marksHit.length>0&&c>=this._marksHit[0].value){var b=this._marksHit[0].index;this._marksHit.shift();this._bookmarkHit(d,b)}},_buildBookmarkHit:function(){var c=this.options.bookmarks||[],d=c.length-1;this._marksHit=[];for(;d>=0;d--){if(!c[d].disabled){this._marksHit.push({value:c[d].value,index:d})}}this._marksHit.sort(this._sortBookmarksJSON);this._marksHit=a.extend(true,[],this._marksHit)},_sortBookmarksJSON:function(c,d){return(c.value-d.value)},_bookmarkClicked:function(c,b){var d={bookmarkElement:this.bookmarks[b],bookmark:this.options.bookmarks[b]};return this._trigger(this.events.bookmarkClick,c,d)},_bookmarkHit:function(c,b){var d={bookmarkElement:this.bookmarks[b],bookmark:this.options.bookmarks[b]};if(d.bookmarkElement){this._trigger(this.events.bookmarkHit,c,d)}},value:function(b){if(arguments.length){this.options.value=this._trimValue(b);this._refreshValue();this._change(null,0)}return this._value()},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":if(c){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"bookmarks":this.clearBookmarks();this._renderBookmarks();break}},_value:function(){return this._trimValue(this.options.value)},_trimValue:function(c){if(c<this.options.min){return this.options.min}if(c>this.options.max){return this.options.max}var d=(this.options.step>0)?this.options.step:1,b=c%d,e=c-b;if(Math.abs(b)*2>=d){e+=(b>0)?d:(-d)}return parseFloat(e.toFixed(5))},_normPercentValue:function(c){var d=0,b=c;if(this.orientation==="vertical"){d=(this.handle.outerHeight()/this.element.outerHeight()).toFixed(2)*100}if(c-d>0){b=c-d}return b},_refreshValue:function(){var f=this.options,c=this,g=(!this._animateOff?f.animate:false),h={},b=this.value(),i=this.options.min,e=this.options.max,d=(e!==i)?(b-i)/(e-i)*100:0;h[c.orientation==="horizontal"?"left":"bottom"]=this._normPercentValue(d)+"%";this.handle.stop(1,1)[g?"animate":"css"](h,f.animate)}});a.extend(a.ui.igSlider,{version:"11.1.20111.2010"});a.widget("ui.igProgressBar",{options:{animate:false,animateTimeout:100,max:100,min:0,orientation:"horizontal",value:0,width:"0px",height:"0px",range:false,endValue:100},css:{baseClasses:"ui-igprogressbar ui-widget ui-widget-content ui-corner-all",horizontalOrientationClass:"ui-igprogressbar-horizontal",verticalOrientationClass:"ui-igprogressbar-vertical",disabledClass:"ui-igprogressbar-disabled ui-disabled",progressRangeClass:"ui-igprogressbar-range ui-widget-header ui-corner-all"},events:{change:"change"},_animationOff:true,widget:function(){return this.element},_detectOrientation:function(){var b=this.css;if(this.options.orientation==="vertical"){this.orientation="vertical";this.element.removeClass(b.horizontalOrientationClass).addClass(b.verticalOrientationClass)}else{this.orientation="horizontal";this.element.removeClass(b.verticalOrientationClass).addClass(b.horizontalOrientationClass)}},_id:function(b){return this.element[0].id+b},_create:function(){var b=this.options,c=this.css;this._detectOrientation();this.element.addClass(c.baseClasses);if(b.disabled){this.element.addClass(c.disabledClass)}if(b.width!=="0px"){this.element.css("width",b.width)}if(b.height!=="0px"){this.element.css("height",b.height)}if(b.orientation==="horizontal"){a('<div id="'+this._id("_progress")+'" class="'+c.progressRangeClass+'" style="height:100%; top:0px; left:0%; width:0%;"></div>').appendTo(this.element)}else{a('<div id="'+this._id("_progress")+'" class="'+c.progressRangeClass+'" style="height:0%; bottom:0%; left:0px; width:100%;"></div>').appendTo(this.element)}this._refreshValue()},destroy:function(){this.element.removeClass("ui-igprogressbar ui-igprogressbar-horizontal ui-igprogressbar-vertical ui-igprogressbar-disabled ui-widget ui-widget-content ui-corner-all").removeData("igProgressBar").unbind(".igProgressBar");a("#"+this._id("_progress")).remove();return this},_change:function(c){var b={value:this.value()};this._trigger(this.events.change,c,b)},value:function(b){if(arguments.length){this.options.value=this._trimValue(b);this._refreshValue();this._change(null)}return this.options.value},_setOption:function(d,b){a.Widget.prototype._setOption.apply(this,arguments);var c=this.options;switch(d){case"disabled":if(b){this.element.addClass(this.css.disabledClass)}else{this.element.removeClass(this.css.disabledClass)}break;case"orientation":this._detectOrientation();this._refreshValue();break;case"value":this._animationOff=true;c.value=this._trimValue(b);this._refreshValue();this._change(null);this._animationOff=false;break;case"endValue":c.endValue=this._trimValue(b);this._refreshValue();break;case"max":if(c.endValue>c.max){c.endValue=c.max;this._refreshValue()}break;case"width":this.element.css("width",b);break;case"height":this.element.css("height",b);break;case"animate":c.animate=b;break;case"animateTimeout":c.animateTimeout=b;break;default:break}},_trimValue:function(b){if(b<this.options.min){return this.options.min}if(b>this.options.max){return this.options.max}return parseInt(b,10)},_refreshValue:function(){var d=this.options,b=d.value,h=d.min,c=d.max,e=d.endValue,f=(c!==h)?(b-h)/(c-h)*100:0,g=(b!==e)?(e-b)/(c-h)*100:0,i=a("#"+this._id("_progress"));if(d.range){if(d.orientation==="horizontal"){i.css("left",f+"%").css("width",g+"%")}else{i.css("bottom",f+"%").css("height",g+"%")}}else{if(d.animate===true){if(d.orientation==="horizontal"){if(i[0].style.width==="0%"){i.css({width:"0px"})}if(i.is(":hidden")===false){i.animate({width:f+"%"},d.animateTimeout)}else{i.css("width",f+"%")}}else{if(i[0].style.height==="0%"){i.css({height:"0px"})}if(i.is(":hidden")===false){i.animate({height:f+"%"},d.animateTimeout)}else{i.animate({height:f+"%"},d.animateTimeout)}}}else{if(d.orientation==="horizontal"){i.css("width",f+"%")}else{i.css("height",f+"%")}}}}});a.extend(a.ui.igProgressBar,{version:"11.1.20111.2010"});a.widget("ui.igButton",{options:{width:null,height:null,link:{href:null,target:null,title:null},labelText:"",centerLabel:false,css:null,onlyIcons:false,icons:{primary:null,secondary:null},title:false},_id:function(b){return this.element[0].id+b},_create:function(){var f=this,b=f.options,g=this.element,d,c={buttonClassIE6:"ui-ie6",buttonClasses:"ui-button ui-igbutton ui-widget ui-widget-content ui-corner-all ui-state-default",buttonHoverClasses:"ui-state-hover",buttonActiveClasses:"ui-state-active",buttonFocusClasses:"ui-state-focus",buttonLabelClass:"ui-button-text",buttonDisabledClass:"ui-state-disabled",buttonPrimaryIconClass:"ui-button-icon-primary ui-icon",buttonMainElementPrimaryIconClass:" ui-button-text-icon-primary",buttonMainElementSecondaryIconClass:" ui-button-text-icon-secondary",buttonSecondaryIconClass:"ui-button-icon-secondary ui-icon",buttonIconsOnly:"ui-button-icons-only",buttonIconOnly:"ui-button-icon-only",buttonIcons:"ui-button-text-icons",buttonTextOnlyClass:"ui-button-text-only"};this._attached=false;b.css=a.extend(c,b.css);f._getInitValues();if(g.is("div")){f._renderDivButton()}else{if(g.is("a")){f._renderAHref()}else{if(g.is("input")){d=g.attr("type").toUpperCase();if(d==="BUTTON"||d==="SUBMIT"||d==="RESET"){f._renderInput()}else{return}}else{if(g.is("button")){f._renderButton()}else{return}}}}if(b.width!==null){f._setWidth(b.width)}if(b.height!==null){f._setHeight(b.height)}g.addClass(b.css.buttonClasses).addClass(b.css.buttonDefaultClasses);if(a.browser.msie===true&&a.browser.version.slice(0,1)==="6"){g.addClass(c.buttonClassIE6)}if(b.centerLabel===true){f._centerLabel()}if(b.disabled){f._disableButton()}else{f._enableButton()}f._setOnlyIcons();g.attr("role","button");g.attr("aria-disabled","false");f._attachButtonEvents();f.setTitle(b.title);return this},setTitle:function(c){var b=this.element;if(c===false){b.removeAttr("title")}else{b.attr("title",c)}},widget:function(){return this.element},_isRedirect:function(){return this.options.link.href!==null},_renderDivButton:function(){this._setLabel()},_renderAHref:function(){this._setLinkOptions(true);this._setLabel()},_renderInput:function(){var b=this.element;b.attr("value",this.options.labelText)},_renderButton:function(){this._setLabel()},_disableButton:function(){var b=this,c=b.element;c.addClass(b.options.css.buttonDisabledClass);if(c.is("a")===true){c.removeAttr("href");c.removeAttr("target");c.removeAttr("title")}else{c.attr("disabled","true")}},_enableButton:function(){var c=this,d=c.element,b=this.options;if(d.hasClass(b.css.buttonDisabledClass)){d.removeClass(b.css.buttonDisabledClass)}d.removeAttr("disabled");if(d.is("a")===true){c._setLinkOptions(true)}},_setLabel:function(){var j=this.element,g=this.options,b=g.icons,i=g.css,f="",c=this._isSetPrimaryIcon(),h=this._isSetSecondaryIcon(),d=(g.labelText===null||g.labelText==="")?j.text():g.labelText;j.attr("title",g.labelText);if(j.is("input")){j.attr("value",g.labelText);return}if(c){f+='<span class="'+i.buttonPrimaryIconClass+" "+b.primary+'" id="'+this._id("_picn")+'"></span>'}f+='<span class="'+g.css.buttonLabelClass+'" id="'+this._id("_lbl")+'">'+d+"</span>";if(h){f+='<span class="'+i.buttonSecondaryIconClass+" "+b.secondary+'" id="'+this._id("_sicn")+'"></span>'}if(c&&h&&!g.onlyIcons){j.addClass(i.buttonIcons)}else{if(g.onlyIcons){this._setOnlyIcons()}else{if(c){j.addClass(i.buttonMainElementPrimaryIconClass)}else{if(h){j.addClass(i.buttonMainElementSecondaryIconClass)}else{j.addClass(i.buttonTextOnlyClass)}}}}j.html(f)},_setOnlyIcons:function(){var b=this.element,c=this.options.css;if(this.options.onlyIcons===false){if(b.hasClass(c.buttonIconsOnly)){b.removeClass(c.buttonIconsOnly)}if(b.hasClass(c.buttonIconOnly)){b.removeClass(c.buttonIconOnly)}if(this._isSetPrimaryIcon()&&this._isSetSecondaryIcon()){b.addClass(c.buttonIcons)}}else{if(this._isSetPrimaryIcon()&&this._isSetSecondaryIcon()){b.addClass(c.buttonIconsOnly)}else{b.addClass(c.buttonIconOnly)}}},_setLinkOptions:function(c){var f=this,d=f.element,b=this.options;if(c){if(b.link!==null&&b.link.href!==null){d.attr("href",b.link.href)}else{d.removeAttr("href")}if(b.link!==null&&b.link.target!==null){d.attr("target",b.link.target)}else{d.removeAttr("target")}if(b.link!==null&&b.link.title!==null){d.attr("title",b.link.title)}else{d.removeAttr("title")}}},_setWidth:function(c){var b=this.element;if(c===null){b.css("width","")}else{b.css("width",c)}},_setHeight:function(c){var b=this.element;if(c===null){b.css("height","")}else{b.css("height",c)}},_setOption:function(f,b){var d=this.element,c=this;a.Widget.prototype._setOption.apply(this,arguments);switch(f){case"width":c._setWidth(b);break;case"height":c._setHeight(b);break;case"link":c._setLinkOptions(d.is("a")===true);break;case"disabled":b=Boolean(b);if(b===true){c._disableButton()}else{c._enableButton()}break;case"labelText":c._setLabel();break;case"centerLabel":b=Boolean(b);if(b){c._centerLabel()}else{c._removeCenterLabel()}break;case"onlyIcons":b=Boolean(b);c._setOnlyIcons();break;case"icons":c._setLabel();break;case"title":c.setTitle(b);break;default:break}},_centerLabel:function(){var d=this,g=d.element,c=a("#"+d._id("_lbl")),b=(g.width()-c.width())/2,f=(g.height()-c.height())/2;c.css({position:"relative",top:f+"px",left:b+"px"})},_removeCenterLabel:function(){var b=this,c=a("#"+b._id("_lbl"));if(c.length>0){c.css({position:"",top:"",left:""})}},_dettachEvents:function(){var b=this,c=b.element;this._attached=false;c.unbind(this._events);return},_onMouseOver:function(b){if(this.options.disabled===true){return}this.element.addClass(this.options.css.buttonHoverClasses);if(!this._trigger("mouseover",b)){return}},_onMouseOut:function(c){var d=this,f=d.element,b=this.options;if(b.disabled===true){return}f.removeClass(b.css.buttonHoverClasses);if(!d._trigger("mouseout",c)){return}},_onClick:function(c){var f=this.element,d=this,b=this.options;if(b.disabled===true){return}if(d._isRedirect()===true&&f.is("a")===false){if(b.link.target==="_blank"){window.open(b.link.href)}else{window.location=b.link.href}}if(!d._trigger("click",c)){return}},_onMouseDown:function(c){var d=this.element,b=this.options;if(b.disabled===true){return}d.addClass(b.css.buttonActiveClasses);if(!this._trigger("mousedown",c)){return}},_onMouseUp:function(b){var c=this.options;if(c.disabled===true){return}this.element.removeClass(c.css.buttonActiveClasses);if(!this._trigger("mouseup",b)){return}},_onFocus:function(b){var c=this.options;if(c.disabled===true){return}this.element.addClass(c.css.buttonFocusClasses);if(!this._trigger("focus",b)){return}},_onBlur:function(b){var c=this.options;if(c.disabled===true){return}this.element.removeClass(c.css.buttonFocusClasses);if(!this._trigger("blur",b)){return}},_attachButtonEvents:function(){var b=this,c=b.element;if(this._attached===true){return}this._attached=true;this._events={mouseover:function(d){b._onMouseOver(d,b)},click:function(d){b._onClick(d)},mouseout:function(d){b._onMouseOut(d)},mousedown:function(d){b._onMouseDown(d)},mouseup:function(d){b._onMouseUp(d)},focus:function(d){b._onFocus(d)},blur:function(d){b._onBlur(d)}};c.bind(this._events)},_isSetPrimaryIcon:function(){var c=this.options.icons.primary,b=false;if(c!==undefined&&c!==null&&typeof c!==undefined){b=true}return b},_isSetSecondaryIcon:function(){var c=this.options.icons.secondary,b=false;if(c!==undefined&&c!==null&&typeof c!==undefined){b=true}return b},_setAttribute:function(d,c,b){if(c!==undefined&&c!==""&&c!==null){d.attr(b,c)}else{d.removeAttr(b)}},destroy:function(){this._dettachEvents();this._rollbackInitValues();a.Widget.prototype.destroy.apply(this,arguments)},_getInitValues:function(){var b=this.element;this._innerHTML=b.html();this._cssClasses=b.attr("class");this._role=b.attr("role");this._href=b.attr("href");this._title=b.attr("title");this._target=b.attr("target");this._width=b.attr("width");this._height=b.attr("height");this._disabled=b.attr("disabled");this._value=b.val()},_rollbackInitValues:function(){var b=this.element;b.html(this._innerHTML);if(b.is("a")){this._setAttribute(b,this._href,"href");this._setAttribute(b,this._target,"target")}else{if(b.is("input")){b.val(this._value)}}this._setAttribute(b,this._title,"title");this._setAttribute(b,this._width,"width");this._setAttribute(b,this._height,"height");this._setAttribute(b,this._cssClasses,"class");this._setAttribute(b,this._role,"role");this._setAttribute(b,this._disabled,"disabled")}});a.extend(a.ui.igButton,{version:"11.1.20111.2010"});a.widget("ui.igTooltip",{css:{baseClasses:"ui-widget ui-igtooltip",arrowImageBaseClass:"ui-igtooltip-arrow-"},options:{text:"",arrowLocation:"top"},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"text":a("div.ui-widget-content",this.element).html(c);break;case"arrowLocation":a("div",this.element).remove();this._renderTooltip();break}},_create:function(){if(this.element.is("div")){this._renderTooltip();this.element.addClass(this.css.baseClasses)}},_renderTooltip:function(){switch(this.options.arrowLocation){case"top":this._createArrowDiv();this._createContentDiv();break;case"bottom":this._createContentDiv();this._createArrowDiv();break;case"left":break;case"right":break}},_createContentDiv:function(){var b=(this.options.text&&this.options.text.length>0)?this.options.text:"";a('<div class="ui-widget-content ui-corner-all">'+b+"</div>").appendTo(this.element)},_createArrowDiv:function(){a('<div class="'+this.css.arrowImageBaseClass+this.options.arrowLocation+'"></div>').appendTo(this.element)},destroy:function(){this.element.children().remove();this.element.removeClass(this.css.baseClasses)}});a.extend(a.ui.igTooltip,{version:"11.1.20111.2010"})}(jQuery));(function(a){a.ig=a.ig||{};a.ig.VideoPlayer=a.ig.VideoPlayer||{};a.extend(a.ig.VideoPlayer,{locale:{liveStream:"Live video",live:"Live",paused:"Paused",playing:"Playing",play:"Play",volume:"Volume",unsupportedVideoSource:"The current video sources does not contain a format that is supported by your browser.",missingVideoSource:"No compatible video source.",progressLabelLongFormat:"$currentTime$ / $duration$",progressLabelShortFormat:"$currentTime$",enterFullscreen:"Go Fullscreen",exitFullscreen:"Exit Fullscreen",skipTo:"SKIP TO",unsupportedBrowser:"The current browser does not support HTML5 video. <br/>Try upgrading to any of the following versions:",currentBrowser:"Current browser: {0}",ie9:"Microsoft Internet Explorer V 9+",chrome8:"Google Chrome V 8+",firefox36:"Mozilla Firefox V 3.6+",safari5:"Apple Safari V 5+",opera11:"Opera V 11+",ieDownload:"http://www.microsoft.com/windows/internet-explorer/default.aspx",operaDownload:"http://www.opera.com/download/",chromeDownload:"http://www.google.com/chrome",firefoxDownload:"http://www.mozilla.com/",safariDownload:"http://www.apple.com/safari/download/",buffering:"Buffering...",adMessage:"Ad: Video will resume in $duration$ seconds.",adMessageLong:"Ad: Video will resume in $duration$.",adMessageNoDuration:"Ad: Video will resume after the commercial.",adNewWindowTip:"Ad: Click to open ad content in a new window.",nonDivException:"The Infragistics HTML5 Video Player can be instantated only on a DIV tag.",relatedVideos:"RELATED VIDEOS",replayButton:"Replay",replayTooltip:"Click to replay last video."}})}(jQuery));if(typeof(jQuery)==="undefined"){throw new Error("The Infragistics HTML5 Video Player requires jQuery to be loaded")}(function(a){a.widget("ui.igVideoPlayer",{_const:{VOLUME_MAX:1,VOLUME_MIN:0,VIDEO_STATE_TIMEOUT:200,SCROLL_TIMEOUT:100,COMMERCIAL_SEEK_DELTA:2,SLIDE_SEEK_TIMEOUT:500,HREF:"#"},_id:function(b){return this.element[0].id+b},options:{sources:[],width:null,height:null,posterUrl:"",preload:false,autoplay:false,autohide:true,volumeAutohideDelay:1000,centerButtonHideDelay:1200,loop:false,browserControls:false,fullscreen:false,volume:0.5,muted:false,title:"",showSeekTime:true,progressLabelFormat:"${currentTime} / ${duration}",bookmarks:[{time:0,title:"",disabled:false}],relatedVideos:[{imageUrl:"",title:"",width:null,height:null,link:"",sources:[],css:null}],banners:[{imageUrl:"",times:[],closeBanner:true,animate:true,visible:true,duration:1000,autohide:false,hidedelay:10000,link:null,width:null,height:null,css:null}],commercials:{linkedCommercials:[{sources:[],startTime:10,link:"",title:""}],embeddedCommercials:[{startTime:20,endTime:30,link:"",title:""}],alwaysPlayCommercials:false,showBookmarks:true,adMessage:{animate:true,autoHide:true,hideDelay:20000,animationDuration:1000}}},events:{ended:"ended",playing:"playing",paused:"paused",buffering:"buffering",progress:"progress",waiting:"waiting",bookmarkHit:"bookmarkHit",bookmarkClick:"bookmarkClick",enterFullScreen:"enterFullScreen",exitFullScreen:"exitFullScreen",relatedVideoClick:"relatedVideoClick",bannerVisible:"bannerVisible",bannerHidden:"bannerHidden",bannerClick:"bannerClick",browserNotSupported:"browserNotSupported"},css:{baseClasses:"ui-widget ui-igplayer",controlsClass:"ui-widget-header ui-igplayer-controls ui-igplayer-grid ui-igplayer-autohide ui-corner-all",controlsHideClass:"ui-igplayer-controls-hide",videoClass:"ui-igplayer-video",unsupportedBrowserClass:"ui-igvideoplayer-non-html5-supported-message ui-helper-clearfix",activeVideoClass:"ui-igplayer-active-video",playButtonClass:"ui-igplayer-playbutton",progressBarClass:"ui-igplayer-progressbar ui-corner-all",fullScreenClass:"ui-igplayer-fullscreen-button",fullScreenIconClass:"ui-icon ui-igbutton-icon ui-icon-arrow-4-diag",volumeControlClass:"ui-igplayer-volumecontrol",volumeSliderClass:"ui-igplayer-volumeslider",progressLabelClass:"ui-igplayer-progresslabel",bookmarkContainerClass:"ui-widget ui-igplayer-bookmark-container",bookmarkContainerHeaderClass:"ui-widget-header ui-igplayer-bookmark-header",bookmarkListClass:"ui-widget-content ui-igplayer-bookmark-list",bookmarkItemDisabledClass:"ui-igplayer-bookmark-item-disabled",bookmarkItemTimeClass:"ui-igplayer-bookmark-item-time",bookmarkItemTitleClass:"ui-igplayer-bookmark-item-title",bookmarkActiveItemClass:"ui-igplayer-bookmark-active-item",relatedVideosContainerClass:"ui-igplayer-related-video-container",relatedVideosOuterContainerClass:"ui-igplayer-related-video-outer-container",relatedVideoClass:"ui-igplayer-related-video",relatedVideoFirstClass:"ui-igplayer-related-video-first",relatedVideoLastClass:"ui-igplayer-related-video-last",relatedVideoHoverClass:"ui-igplayer-related-video-hover",relatedVideoScrollLeftClass:"ui-igplayer-related-scroller-left",relatedVideoScrollLeftIconClass:"ui-icon-triangle-1-w",relatedVideoScrollRightClass:"ui-igplayer-related-scroller-right",relatedVideoScrollRightIconClass:"ui-icon-triangle-1-e",relatedVideoScrollListClass:"ui-igplayer-related-list",relatedVideosHeaderClass:"ui-igplayer-related-video-header",relatedVideoBarClass:"ui-igplayer-related-video-bar",relatedVideoReplayClass:"ui-igplayer-related-video-replay",relatedVideoReplayIconClass:"ui-icon-arrowrefresh-1-s",bannerContainerClass:"ui-igplayer-banner-container",bannerClass:"ui-igplayer-banner ui-corner-all",bannerCloseClass:"ui-igplayer-banner-close",bannerCloseIconClass:"ui-icon-close",adMsgContainerClass:"ui-igplayer-ad-msg-container",adMsgClass:"ui-igplayer-ad-msg",adMsgCloseClass:"ui-igplayer-ad-msg-close",adMsgCloseIconClass:"ui-icon-close",linkedBookmarkClass:"ui-igplayer-linked-bookmark",adBookmarkClass:"ui-igplayer-ad-bookmark",unsupportedVideoSourceClass:"ui-igplayer-not-supported-video-source",unsupportedVideoSourceIconClass:"ui-igplayer-not-supported-video-source-icon",centerPlayButtonClass:"ui-igplayer-centerplaybutton-play",centerPauseButtonClass:"ui-igplayer-centerplaybutton-pause",centerPlayButtonIconClass:"ui-igplayer-centerplaybutton-icon",waitingIndicatorClass:"ui-igplayer-waiting",waitingIndicatorIconClass:"ui-igplayer-waiting-icon",seekTooltipClass:"ui-igplayer-seektooltip"},widget:function(){return this.element},_createWidget:function(){var b=this.options;b.bookmarks=[];b.relatedVideos=[];b.banners=[];b.commercials.linkedCommercials=[];b.commercials.embeddedCommercials=[];a.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){this.supportsVideo=this.supports_video();if(this.element.is("div")){this.container=this.element}else{if(this.element.is("video")){this.container=a("<div></div>").attr("id",this._id("_container")).insertBefore(this.element);this.element.appendTo(this.container)}else{throw new Error(a.ig.VideoPlayer.locale.nonDivException)}}this._oldWidth=this.element.css("width");this._oldHeight=this.element.css("height");this._renderControl()},_renderControl:function(){var b=this.options,d,c=this.css;this._prevReadyState=0;this._bookmarksRendered=false;if(this.supportsVideo){this._renderBanners()}this.currentVideo=d=this._createMainVideoElement().addClass(c.videoClass);if(b.disabled){this.container.addClass("ui-state-disabled")}if(b.width){d.css("width",b.width);this.container.css("width",b.width)}if(b.height){d.css("height",b.height);this.container.css("height",b.height)}if(this.supportsVideo){this._baseZIndex=parseInt(this.container.css("z-index"),10)||0;this._attachEvents(d);this._renderSources(b.sources,d);this._analyzeSource(d);setTimeout(a.proxy(this._onVideoStateChange,this),this._const.VIDEO_STATE_TIMEOUT);this._createBigPlayButton();this._createWaitingIndicator();this._renderEmbeddedCommercials();this._renderCommercials();d[0].muted=b.muted;if(b.muted&&a.browser.webkit){d[0].volume=0}else{if(b.volume>=this._const.VOLUME_MIN&&b.volume<=this._const.VOLUME_MAX){d[0].volume=b.volume}}if(!b.browserControls){this._renderControls()}this._lastPausedState=d[0].paused;if(b.fullscreen){this._setOption("fullscreen",true,true)}this._renderRelatedVideos()}else{this.currentVideo.hide();this._renderUnsupportedBrowser()}a("#"+this._id("_detectError")).appendTo(this.container).bind({click:function(e){e.preventDefault()}});this.container.addClass(c.baseClasses)},_createVideoElement:function(b){var c=a("<video></video>").attr("id",b);return c},_saveExistingVideoProperties:function(b){this._oldAutoPlay=b.attr("autoplay");this._oldPreload=b.attr("preload");this._oldLoop=b.attr("loop");this._oldPoster=b.attr("poster");this._oldControls=b.attr("controls");this._oldSrc=b.attr("src");this._oldMuted=b[0].muted;this._oldVolume=b[0].volume;b.removeAttr("autoplay");b.removeAttr("preload");b.removeAttr("loop");b.removeAttr("poster");b.removeAttr("controls");b.removeAttr("src")},_restoreExistingVideoProperties:function(b){b.attr("autoplay",this._oldAutoPlay);b.attr("preload",this._oldPreload);b.attr("loop",this._oldLoop);b.attr("poster",this._oldPoster);b.attr("controls",this._oldControls);b.attr("src",this._oldSrc);b[0].muted=this._oldMuted;b[0].volume=this._oldVolume},_createMainVideoElement:function(){var b=this.options,c=this.element.is("video"),d=(c?this.element:this._createVideoElement(this._id("_video")));if(c){this._saveExistingVideoProperties(d)}if(b.autoplay){d.attr("autoplay",true)}d.attr("preload","metadata");if(b.preload){d.attr("preload","auto")}if(b.browserControls){d.attr("controls",true)}if(b.loop){d.attr("loop",true)}if(b.posterUrl.length>0){d.attr("poster",b.posterUrl)}return d.appendTo(this.container)},_renderUnsupportedBrowser:function(){if(this._trigger(this.events.browserNotSupported)){var d=a("<div></div>").addClass(this.css.unsupportedBrowserClass).appendTo(this.container),c,b;if(a.browser.msie){b="Internet Explorer "+a.browser.version}else{if(a.browser.opera){b="Opera "+a.browser.version}else{if(a.browser.webkit){b="Webkit "+a.browser.version}else{if(a.browser.mozilla){b="Mozilla Firefox "+a.browser.version}else{b=a.browser.version}}}}a("<div></div>").addClass("ui-igvideoplayer-current-browser-label").html(a.ig.VideoPlayer.locale.currentBrowser.replace("{0}",b)).appendTo(d);a("<div></div>").addClass("ui-igvideoplayer-non-html5-text").html(a.ig.VideoPlayer.locale.unsupportedBrowser).appendTo(d);c=a("<ul></ul>").addClass("ui-igplayer-browsers-list").appendTo(d);a("<a></a>").attr("href",a.ig.VideoPlayer.locale.chromeDownload).attr("target","_blank").addClass("ui-igplayer-chrome-icon").html(a.ig.VideoPlayer.locale.chrome8).appendTo(a("<li></li>").addClass("ui-corner-all").appendTo(c));a("<a></a>").attr("href",a.ig.VideoPlayer.locale.firefoxDownload).attr("target","_blank").addClass("ui-igplayer-firefox-icon").html(a.ig.VideoPlayer.locale.firefox36).appendTo(a("<li></li>").addClass("ui-corner-all").appendTo(c));a("<a></a>").attr("href",a.ig.VideoPlayer.locale.operaDownload).attr("target","_blank").addClass("ui-igplayer-Opera-icon").html(a.ig.VideoPlayer.locale.opera11).appendTo(a("<li></li>").addClass("ui-corner-all").appendTo(c));a("<a></a>").attr("href",a.ig.VideoPlayer.locale.safariDownload).attr("target","_blank").addClass("ui-igplayer-safari-icon").html(a.ig.VideoPlayer.locale.safari5).appendTo(a("<li></li>").addClass("ui-corner-all").appendTo(c));a("<a></a>").attr("href",a.ig.VideoPlayer.locale.ieDownload).attr("target","_blank").addClass("ui-igplayer-ie-icon").html(a.ig.VideoPlayer.locale.ie9).appendTo(a("<li></li>").addClass("ui-corner-all").appendTo(c));this.container.addClass("ui-igvideoplayer-non-html5")}},_renderRelatedVideoBar:function(d){var c=this.css,b=this,e=a("<div></div>").attr("id",this._id("_rv_bar")).addClass(c.relatedVideoBarClass).appendTo(d);a("<a></a>").attr("id",this._id("_rv_bar_fs")).appendTo(a("<div></div>").css({position:"absolute",top:0,left:0,"text-align":"right",width:"100%",height:"100%"}).appendTo(e)).igButton({link:{href:this._const.HREF},css:{buttonLabelClass:c.fullScreenIconClass}}).attr("title",a.ig.VideoPlayer.locale.enterFullscreen).addClass(c.fullScreenClass).bind({click:function(f){f.preventDefault();b._setOption("fullscreen",!b.options.fullscreen)}});a("<a></a>").attr("id",this._id("_rv_bar_replay")).appendTo(e).igButton({onlyIcons:false,labelText:a.ig.VideoPlayer.locale.replayButton,icons:{primary:c.relatedVideoReplayIconClass},link:{href:this._const.HREF}}).attr("title",a.ig.VideoPlayer.locale.replayTooltip).bind({click:function(f){f.preventDefault();if(!a(this).igButton("option","disabled")){b.togglePlay()}}}).addClass(c.relatedVideoReplayClass)},_renderScrollButtons:function(d){var c=this.css,b;a("<a></a>").attr("id",this._id("_rv_left")).appendTo(d).igButton({onlyIcons:true,icons:{primary:c.relatedVideoScrollLeftIconClass},link:{href:this._const.HREF}}).addClass(c.relatedVideoScrollLeftClass).css("position","absolute").hide();b=a("<ul></ul>").addClass(c.relatedVideoScrollListClass).appendTo(d);a("<a></a>").attr("id",this._id("_rv_right")).appendTo(d).igButton({onlyIcons:true,icons:{primary:c.relatedVideoScrollRightIconClass},link:{href:this._const.HREF}}).addClass(c.relatedVideoScrollRightClass).css("position","absolute");return b},_renderRelatedVideos:function(){var g=this.options,d=g.relatedVideos||[],f=d.length,b=0,j=this.css,k,e,h,c=this;if(f>0){k=a("<div></div>").attr("id",this._id("_rvcc")).addClass(j.relatedVideosOuterContainerClass).appendTo(this.container).hide();a("<div><div>").html(a.ig.VideoPlayer.locale.relatedVideos).addClass(j.relatedVideosHeaderClass).appendTo(k);e=a("<div></div>").attr("id",this._id("_rvc")).appendTo(k).addClass(j.relatedVideosContainerClass);h=this._renderScrollButtons(e);this._renderRelatedVideoBar(k);this._rvUlWidth=0;this._rvImagesToLoad=0;this._rvImagesLoaded=0;for(;b<f;b++){if(d[b].imageUrl&&d[b].imageUrl!==""){this._renderRelatedVideo(d[b],h,b===0,b===f-1);this._rvImagesToLoad++}}this.relatedScrollers=a("a",e).bind({mouseover:function(){if(!c._isScrolling){c._isScrolling=true;c._leftDirection=a(this).hasClass(c.css.relatedVideoScrollLeftClass);c._rvDoScroll()}},mouseout:function(){c._rvStopScroll()}});this.relatedVideoElements=a("."+this.css.relatedVideoClass.split(" ")[0],h).each(function(l){a(this).data("related-index",l)}).bind({mouseover:function(){a(this).addClass(c.css.relatedVideoHoverClass).children().filter("div").show()},mouseout:function(){a(this).removeClass(c.css.relatedVideoHoverClass).children().filter("div").hide()},click:function(i){var l=c.options.relatedVideos[a(this).data("related-index")];if(c._relatedVideoClick(l,a(this),i)){if(l.link&&l.link.length>0){window.open(l.link,"_blank")}else{if(l.sources){c._renderSources(l.sources,c.currentVideo);c._analyzeSource(c.currentVideo,true);c.play()}}}}})}},_rvScrollOnce:function(){var j=a("#"+this._id("_rvc")),h=a("ul",j),c=h[0].style.left,f=parseInt((c===""||c==="auto"?"0px":c),10),d=10,l=this._leftDirection?f+d:f-d,g=a("#"+this._id("_rv_left")),b=a("#"+this._id("_rv_right")),i=h.width(),e=j.width(),k=true;h[0].style.left=l+"px";if(f===0&&l<0){g.show()}if(l>=0&&f!==0&&g[0].style.display!=="none"){g.hide();k=false}if(e-l>=i&&b[0].style.display!=="none"){k=false;b.hide()}else{if(b[0].style.display==="none"){b.show()}}return k},_rvDoScroll:function(){var b=this._isScrolling&&this._rvScrollOnce();if(b){this._scrollingTimoutId=setTimeout(a.proxy(this._rvDoScroll,this),this._const.SCROLL_TIMEOUT)}else{this._rvStopScroll()}},_rvStopScroll:function(){if(this._isScrolling){clearTimeout(this._scrollingTimoutId);this._isScrolling=false}},_relatedVideoClick:function(c,b,d){var e={relatedVideo:c,relatedVideoElement:b};return this._trigger(this.events.relatedVideoClick,d,e)},_renderRelatedVideo:function(e,h,d,g){var f=a("<li></li>").appendTo(h).addClass(this.css.relatedVideoClass),c=a("<img/>").appendTo(f),b=this;if(d||g){f.addClass(d?this.css.relatedVideoFirstClass:this.css.relatedVideoLastClass)}if(e.imageUrl&&e.imageUrl!==""){c.attr("src",e.imageUrl)}if(e.title&&e.title!==""){c.attr("title",e.title)}if(e.css&&e.css!==""){c.addClass(e.css)}if(e.width&&e.width!==""){c.css("width",e.width)}if(e.height&&e.height!==""){c.css("height",e.height)}a("<div></div>").appendTo(c.parent()).css("position","absolute").hide();c.bind({load:function(){b._imageLoaded(this)},error:function(){b._rvImagesLoaded++;b._onImagesLoaded()},readystatechange:function(){b._imageLoaded(this)}})},_imageLoaded:function(f){var d=f.readyState,e=parseInt(f.style.width,10),c=parseInt(f.style.height,10),b;if(!d||(new RegExp("loaded|complete")).test(d)){this._rvUlWidth+=(e+parseInt(a(f).parent().css("marginRight"),10)+parseInt(a(f).parent().css("marginLeft"),10));this._rvImagesLoaded++;if(e>24&&c>24){if(e>50&&c>50){b=48}else{if(e>34&&c>34){b=32}else{b=24}}a(f).parent().children().filter("div").addClass("ui-igplayer-related-video-hover-x"+b).css({width:b,height:b,top:(c/2)-(b/2),left:(e/2)-(b/2)})}}this._onImagesLoaded()},_onImagesLoaded:function(){if(this._rvImagesLoaded===this._rvImagesToLoad){var b=a("#"+this._id("_rvc"));a("ul",b).css("width",this._rvUlWidth+4);b.parent().show();if(this._rvUlWidth<b.width()){this.relatedScrollers.hide()}else{a(this.relatedScrollers[1]).show()}b.parent().hide();delete this._rvUlWidth;delete this._rvImagesLoaded;delete this._rvImagesToLoad}},_renderEmbeddedCommercials:function(){var e=this.options.commercials.embeddedCommercials||[],b=0,d=e.length,c=[],f;for(;b<d;b++){f=e[b];if(f&&f.startTime&&f.endTime&&f.startTime<f.endTime){c.push(f)}}e=c;d=e.length;if(e&&d>0){this._embeddedCommercialsShow=a.extend(true,[],e);this._embeddedCommercialIndex=0;this._renderAdMessage()}},_renderCommercials:function(){var b=this.options,d=b.commercials.linkedCommercials||[],c=this;if(d.length>0){this._createVideoElement(this._id("_com_video")).attr("preload","auto").appendTo(this.container).addClass(this.css.videoClass).bind({ended:function(){var f=a("#"+c._id("_ctrls_s")),e=f.data("igSlider").bookmarks;c._hideWaitingIndicator();c._commercialIndex++;c._commercialsShow.shift();c._commercialPlaying=false;c.currentVideo=c._getMainVideo();c.currentVideo.show();a(this).hide();f.igSlider("option","disabled",false);if(e){e.show()}c.currentVideo[0].muted=this.muted;c.currentVideo[0].play();c.currentVideo.addClass(c.css.videoClass);c.controls[c._activeControlsIndex].css("z-index","");a("#"+c._id("_seek_tooltip")).css("z-index","");a("#"+c._id("_play")).css("z-index","")},waiting:function(e){c._onVideoWaiting(e);c._waiting(this.currentSrc,this.currentTime,this.duration,e)},timeupdate:function(e){c._changeCurrentTime(e)},playing:function(e){c._hideWaitingIndicator();a("span",a("#"+c._id("_ctrls_play"))).addClass("ui-icon-pause").removeClass("ui-icon-play");c._playing(this.currentSrc,this.duration,e)},pause:function(e){a("span",a("#"+c._id("_ctrls_play"))).addClass("ui-icon-play").removeClass("ui-icon-pause");c._paused(this.currentSrc,this.duration,e)},click:function(f){f.preventDefault();var e=c.options.commercials.linkedCommercials[c._commercialIndex].link;if(e&&e.length>0){window.open(e,"_blank")}}}).hide();this._buildCommercialsShow();this._renderAdMessage()}},_renderAdClose:function(c){var b=this;a("<a></a>").attr("id",this._id("_ad_msg_close")).appendTo(c).igButton({onlyIcons:true,icons:{primary:this.css.adMsgCloseIconClass},link:{href:this._const.HREF}}).addClass(this.css.adMsgCloseClass).bind("click",function(d){d.preventDefault();d.stopPropagation();b.hideAdMessage()})},_renderAdMessage:function(){if(a("#"+this._id("_ad_msg_c")).length===0){var c=this.css,b;b=a("<div></div>").attr("id",this._id("_ad_msg_c")).addClass(c.adMsgContainerClass).prependTo(this.container).bind({mouseover:function(){a(this).addClass("ui-state-hover")},mouseout:function(){a(this).removeClass("ui-state-hover")}}).hide();a("<span></span>").attr("id",this._id("_ad_msg")).appendTo(b).addClass(c.adMsgClass).html(a.ig.VideoPlayer.locale.adMessage);this._renderAdClose(b)}},_showAdMessage:function(b){var d=a("#"+this._id("_ad_msg_c")),c=this.options.commercials.adMessage;this._updateAdMessage(b,true);d.css("width",this.container.css("width"));if(c.animate){d.slideToggle(c.animationDuration)}else{d.show()}if(c.autoHide){this._adHideTimeout=setTimeout(a.proxy(this.hideAdMessage,this),c.hideDelay)}},_updateAdMessage:function(b,c){var d=a("#"+this._id("_ad_msg"));if(d.is(":visible")||c){if(isNaN(b)){d.html(a.ig.VideoPlayer.locale.adMessageNoDuration)}else{b=parseInt(b,10);if(b>60){d.html(a.ig.VideoPlayer.locale.adMessageLong.replace("$duration$",this._toTimeString(b)))}else{d.html(a.ig.VideoPlayer.locale.adMessage.replace("$duration$",b))}}}},hideAdMessage:function(){clearTimeout(this._adHideTimeout);var b=a("#"+this._id("_ad_msg_c")),c=this.options.commercials.adMessage;if(b.is(":visible")){if(c.animate){b.slideToggle(c.animationDuration)}else{b.hide()}}},_buildCommercialsShow:function(){var d=this.options.commercials.linkedCommercials||[],c=d.length,b=0;this._commercialsShow=[];this._commercialIndex=0;for(;b<c;b++){this._commercialsShow.push(d[b].startTime)}this._commercialsShow=a.extend(true,[],this._commercialsShow)},playCommercial:function(c){if(!c||!c.sources){return}var g=a("#"+this._id("_com_video")),f=this.currentVideo.offset(),e=a("#"+this._id("_ctrls_s")),b=e.data("igSlider").bookmarks,d=a("#"+this._id("_ctrls_s_tooltip"));this._commercialPlaying=true;a("source",g).remove();this._renderSources(c.sources,g);this._analyzeSource(g);this.currentVideo[0].pause();this.currentVideo.removeClass(this.css.videoClass);this.controls[this._activeControlsIndex].css("z-index",this._baseZIndex+5000);a("#"+this._id("_seek_tooltip")).css("z-index",this._baseZIndex+5000);a("#"+this._id("_play")).css("z-index",this._baseZIndex+5000);e.igSlider("option","disabled",true);if(b&&d){b.hide();d.hide()}g[0].muted=this.currentVideo[0].muted;g[0].play();if(c.link&&c.link.length>0){g.attr("title",a.ig.VideoPlayer.locale.adNewWindowTip)}else{g.removeAttr("title")}g.css("top",f.top).css("left",f.left).css("width",this.currentVideo.css("width")).css("height",this.currentVideo.css("height")).show();this.currentVideo.hide();this.currentVideo=g},_renderBanners:function(){var b=this.options.banners||[],d=b.length,c=0,e=a("<div></div>").appendTo(this.container).addClass(this.css.bannerContainerClass),f;this._bannerShow=[];for(;c<d;c++){f=b[c];if(f.imageUrl&&f.imageUrl.length>0){this._renderBannerContainer(f,this._id("_banner_grid"+c),e).data("banner-index",c)}this._bannerShow.push(a.extend(true,[],f.times))}},_buildBannersShow:function(){var b=this.options.banners||[],d=b.length,c=0;if(d>0){this._bannerShow=[]}for(;c<d;c++){this._bannerShow.push(a.extend(true,[],b[c].times))}},_renderBannerClose:function(d,b){var c=this.css,e=this;a("<a></a>").attr("id",b+"_banner_close").appendTo(a("<div></div>").css({position:"absolute",top:0,left:0,"text-align":"right",width:"100%",height:"100%"}).appendTo(d)).addClass(c.bannerCloseClass).igButton({onlyIcons:true,icons:{primary:c.bannerCloseIconClass},link:{href:this._const.HREF}}).bind("click",function(f){f.preventDefault();f.stopPropagation();e.hideBanner(a(this).parent().parent().data("banner-index"))})},_renderBannerContainer:function(b,e,g){var d=this.css,c=this,h=a("<div></div>").attr("id",e).appendTo(g),f=a("<img></img>").attr("id",e+"_img").attr("src",b.imageUrl).appendTo(h);this.banner=h.addClass(d.bannerClass);if(!b.visible){h.hide()}if(b.closeBanner){this._renderBannerClose(h,e)}if(b.width){h.css("width",b.width);f.attr("width",parseInt(b.width,10))}if(b.height){h.css("height",b.height);f.attr("height",parseInt(b.height,10))}if(b.css){h.addClass(b.css)}h.bind("click",function(i){var j=true,k={bannerElement:c.banner};j=c._trigger(c.events.bannerClick,i,k);if(b.link&&b.link.length>0&&j){window.open(b.link,"_blank")}});return h},showBanner:function(c){if(this.options.banners&&c>=0&&c<this.options.banners.length){var e=this.options.banners[c],b=this._id("_banner_grid"+c),d=a("#"+b);if(e.animate){d.fadeIn(e.duration)}else{d.show()}this._bannerVisible(c,d);if(e.autohide){this._bannerHideTimeout=setTimeout(this._createDelegate(this,this.hideBanner,[c]),e.hidedelay)}}},_createDelegate:function(d,c,b){return function(){return c.apply(d,b)}},hideBanner:function(b){if(this.options.banners&&b>=0&&b<this.options.banners.length){clearTimeout(this._bannerHideTimeout);var d=this.options.banners[b],c=a("#"+this._id("_banner_grid"+b));if(d.animate){c.fadeOut(d.duration)}else{c.hide()}this._bannerHidden(b,c)}},_renderSources:function(c,d){var b=this;a(c).each(function(){b._renderSource(this,d)})},_renderSource:function(c,b){a("<source></source>").attr("src",c).attr("type",("type/"+c.substring(c.lastIndexOf(".")+1,c.length)).replace("/ogv","/ogg")).appendTo(b);b.data(c.substring(c.lastIndexOf(".")+1,c.length),c)},_getMainVideo:function(){return this.element.is("video")?this.element:a("#"+this._id("_video"))},_setOption:function(h,b,d){var k=this.currentVideo,f=k[0],g=this._getMainVideo(),i=k.offset(),c=this.options,j=true,e=0;switch(h){case"disabled":if(b){this.container.addClass("ui-state-disabled")}else{this.container.removeClass("ui-state-disabled")}break;case"sources":a("source",g).remove();this._renderSources(b,g);this._analyzeSource(g);break;case"width":if(b!==c.width){k.css("width",b);this.container.css("width",b);if(!c.browserControls){a("#"+this._id("_ctrls")).parent().css("width",b);a("#"+this._id("_title_ctrls")).parent().css("width",b)}c.width=b}break;case"height":if(b!==c.height){k.css("height",b);this.container.css("height",b);c.height=b}break;case"posterUrl":if(b!==c.posterUrl){k.attr("poster",b);c.posterUrl=b}break;case"loop":if(b!==c.loop){f.loop=b;c.loop=b}break;case"browserControls":if(b!==c.browserControls){if(!b){f.controls=false;this._ensureVolume();this._renderControls()}else{f.controls=true;this._destroyControls()}c.browserControls=b}break;case"autohide":if(!c.browserControls){if(b){this._onControlMouseOut()}else{this._onControlMouseOver()}}c.autohide=b;break;case"fullscreen":if(b!==c.fullscreen||d){if(b){j=this._enterFullScreen(f.currentSrc);if(j){this.container.data("style.position",this.container.css("position"));this.container.data("document.scrollTop",a(document).scrollTop());this.container.data("document.scrollLeft",a(document).scrollLeft());this.container.data("style.left",this.container.css("left"));this.container.data("style.top",this.container.css("top"));this.container.css("z-index",this._baseZIndex+10000);a(document).scrollTop(0);a(document).scrollLeft(0);this.container.css("position","fixed").css("height","100%").css("width","100%").css("left","0px").css("top","0px");a("#"+this._id("_ctrls")).parent().css("width","100%");if(this._commercialPlaying){k.css("top",0).css("left",0);g.css("height","100%").css("width","100%")}k.css("height","100%").css("width","100%");if(!c.browserControls){a("span",a("#"+this._id("_ctrls_fs_btn"))).removeClass("ui-icon-arrow-4-diag").addClass("ui-icon-closethick")}if(a("#"+this._id("_rv_bar_fs")).is(":visible")){a("span",a("#"+this._id("_rv_bar_fs"))).removeClass("ui-icon-arrow-4-diag").addClass("ui-icon-closethick")}if(c.bookmarks&&c.bookmarks.length>0){a("#"+this._id("_bookmarks")).hide()}}}else{j=this._exitFullScreen(f.currentSrc);if(j){this.container.css("position",this.container.data("style.position")).css("left",this.container.data("style.left")).css("top",this.container.data("style.top"));this.container.css("z-index",this._baseZIndex);a(document).scrollTop(this.container.data("document.scrollTop"));a(document).scrollLeft(this.container.data("document.scrollLeft"));if(c.height){if(c.bookmarks&&c.bookmarks.length>0){e=parseInt(c.height,10)-parseInt(a("#"+this._id("_bookmarks")).css("height"),10);if(this._commercialPlaying){g.css("height",e)}k.css("height",e)}else{if(this._commercialPlaying){g.css("height",c.height)}k.css("height",c.height)}this.container.css("height",c.height)}else{if(this._commercialPlaying){g.css("height","")}k.css("height","");this.container.css("height","")}if(c.width){if(this._commercialPlaying){g.css("width",c.width)}k.css("width",c.width);a("#"+this._id("_ctrls")).parent().css("width",c.width);this.container.css("width",c.width)}else{if(this._commercialPlaying){g.css("width","")}k.css("width","");a("#"+this._id("_ctrls")).parent().css("width","");this.container.css("width","")}if(this._commercialPlaying){k.css("top",i.top).css("left",i.left)}if(!c.browserControls){a("span",a("#"+this._id("_ctrls_fs_btn"))).removeClass("ui-icon-closethick").addClass("ui-icon-arrow-4-diag")}if(a("#"+this._id("_rv_bar_fs")).is(":visible")){a("span",a("#"+this._id("_rv_bar_fs"))).removeClass("ui-icon-closethick").addClass("ui-icon-arrow-4-diag")}if(c.bookmarks&&c.bookmarks.length>0){a("#"+this._id("_bookmarks")).show()}}}if(!j){return}if(a("#"+this._id("_waiting")).is(":visible")){this._showWaitingIndicator()}if(a("#"+this._id("_play")).is(":visible")){this._showCenterPlayButton()}if(a("#"+this._id("_ad_msg_c")).is(":visible")){a("#"+this._id("_ad_msg_c")).css("width",this.container.css("width"))}if(a("#"+this._id("_ctrls_vs")).is(":visible")){this._hideVolumeSlider()}if(a("#"+this._id("_detectError")).is(":visible")){this._showUnsupportedVideoSourceMsg()}a("body").toggleClass("ui-igplayer-full-screen-mode");if(!c.browserControls){a("#"+this._id("_ctrls_fs_btn")).attr("title",b?a.ig.VideoPlayer.locale.exitFullscreen:a.ig.VideoPlayer.locale.enterFullscreen)}if(a("#"+this._id("_rv_bar_fs")).is(":visible")){a("#"+this._id("_rv_bar_fs")).attr("title",b?a.ig.VideoPlayer.locale.exitFullscreen:a.ig.VideoPlayer.locale.enterFullscreen)}c.fullscreen=b}break;case"volume":if(b!==c.volume&&b>=this._const.VOLUME_MIN&&b<=this._const.VOLUME_MAX){c.volume=f.volume=b;if(b>0&&f.muted){c.muted=f.muted=false}else{if(b===0&&!f.muted){c.muted=f.muted=true}}if(!c.browserControls){this._adjustVolumeButton(b);a("#"+this._id("_ctrls_vs")).igSlider("option","value",b*100)}}break;case"muted":if(b!==c.muted){c.muted=f.muted=b;a("#"+this._id("_ctrls_vs")).igSlider("option","value",(b?0:(c.volume!==0?c.volume:0.3)*100));if(c.volume===0){c.volume=0.3}if(!b&&f.volume===0){f.volume=c.volume}if(!c.browserControls){this._adjustVolumeButton(a("#"+this._id("_ctrls_vs")).igSlider("option","value"))}}break;case"title":a("#"+this._id("_title_ctrls_t")).html(b);break;case"progressLabelFormat":c.progressLabelFormat=b;this._updateProgressLabel();break;case"alwaysPlayCommercials":if(b!==c.commercials.alwaysPlayCommercials){c.commercials.alwaysPlayCommercials=b;if(b){this.resetCommercialsShow()}}break;case"bookmarks":this._destroyBookmarks();c.bookmarks=b;this._renderBookmarks();break;case"relatedVideos":this._destroyRelatedVideos();c.relatedVideos=b;this._renderRelatedVideos();break;default:break}a.Widget.prototype._setOption.apply(this,arguments)},_onVideoStateChange:function(){var c=this.currentVideo,f=c[0],b=this.options,e=this._prevReadyState,d=f.readyState;if(e>=f.HAVE_FUTURE_DATA&&d<=f.HAVE_CURRENT_DATA){if(!f.ended){this._showWaitingIndicator()}}else{if(e<=f.HAVE_CURRENT_DATA&&d===f.HAVE_FUTURE_DATA){this._hideWaitingIndicator()}else{if(d===f.HAVE_ENOUGH_DATA){if(e<=f.HAVE_CURRENT_DATA){this._hideWaitingIndicator()}}}}this._prevReadyState=d;this._detectBuffered();if(this._lastPausedState!==f.paused){if(this._lastPausedState){this._showCenterPlayButton().removeClass(this.css.centerPauseButtonClass).addClass(this.css.centerPlayButtonClass)}else{this._showCenterPlayButton().removeClass(this.css.centerPlayButtonClass).addClass(this.css.centerPauseButtonClass)}setTimeout(a.proxy(this._hideCenterPlayButton,this),b.centerButtonHideDelay);this._prepareForPlay();this._lastPausedState=f.paused}this._setOption("muted",f.muted);this._refreshDuration();this._onVideoStateChangeId=setTimeout(a.proxy(this._onVideoStateChange,this),this._const.VIDEO_STATE_TIMEOUT)},_updateTitleControlsTimeString:function(b,c){if(this._activeControlsIndex===1&&b){a("span.ui-igplayer-playbutton-text",a("#"+this._id("_title_ctrls"))).attr("title",(c?c:b)).html(b)}},_analyzeSource:function(d,b){var c=false;if(this.supports_h264_baseline_video()&&d.data("mp4")!==undefined){d.attr("src",d.data("mp4"));c=true}else{if(this.supports_ogg_theora_video()){if(d.data("ogv")!==undefined){d.attr("src",d.data("ogv"));c=true}else{if(d.data("ogg")!==undefined){d.attr("src",d.data("ogg"));c=true}}}else{if(this.supports_webm_video()&&d.data("wbem")!==undefined){d.attr("src",d.data("wbem"));c=true}}}d.data("sourceDetected",c);if(!c&&!b){this._showUnsupportedVideoSourceMsg();if(!this.options.browserControls){if(this._activeControlsIndex===0){a("#"+this._id("_ctrls_play")).igButton("option","disabled",true)}}}else{this._hideUnsupportedVideoSourceMsg();if(!this.options.browserControls){if(this._activeControlsIndex===0){a("#"+this._id("_ctrls_play")).igButton("option","disabled",false)}}}},resetCommercialsShow:function(){this._buildCommercialsShow();this._embeddedCommercialsShow=a.extend(true,[],this.options.commercials.embeddedCommercials);this._embeddedCommercialIndex=0},_attachVideoEvents:function(b){var c=this;this._videoEvents={error:function(d){c._onVideoError(d)},progress:function(d){c._onVideoLoading(d)},waiting:function(d){c._onVideoWaiting(d);c._waiting(this.currentSrc,this.currentTime,this.duration,d)},timeupdate:function(d){c._changeCurrentTime(d)},ended:function(d){c._showCenterPlayButton().removeClass("ui-igplayer-centerplaybutton-pause").addClass("ui-igplayer-centerplaybutton-play");c._hideWaitingIndicator();if(!c.options.browserControls){a("span",a("#"+c._id("_ctrls_play"))).addClass("ui-icon-play").removeClass("ui-icon-pause")}a("#"+c._id("_ctrls_pb")).igProgressBar("option","value",0);if(c.options.relatedVideos.length>0){c._onControlMouseOut(null);a("#"+c._id("_rvcc")).show()}c._buildBannersShow();if(c.options.commercials.alwaysPlayCommercials){c.resetCommercialsShow()}c._ended(this.currentSrc,this.duration,d)},playing:function(d){c._hideWaitingIndicator();a("span",a("#"+c._id("_ctrls_play"))).addClass("ui-icon-pause").removeClass("ui-icon-play");c._playing(this.currentSrc,this.duration,d)},pause:function(d){a("span",a("#"+c._id("_ctrls_play"))).addClass("ui-icon-play").removeClass("ui-icon-pause");c._paused(this.currentSrc,this.duration,d)},click:function(d){var e=c.options;if(!e.browserControls){d.preventDefault()}if(d.button===0&&!e.disabled){c._onVideoClick(!e.browserControls)}},dblclick:function(d){d.preventDefault();if(d.button===0&&!c.options.disabled){c._onVideoDblClick()}},selectstart:function(){return false}};b.bind(this._videoEvents)},_onVideoClick:function(c){if(this._embeddedCommercialPlaying){var b=this.options.commercials.embeddedCommercials[this._embeddedCommercialIndex].link;if(b&&b.length>0){window.open(b,"_blank")}}else{if(c){this.togglePlay()}}},_onVideoDblClick:function(){var b=this.options;this._setOption("fullscreen",!b.fullscreen);if(!b.browserControls){this._toggleCenterPlayButton()}},_attachEvents:function(b){var c=this;this._attachVideoEvents(b);this._generalEvts={keydown:function(d){if(d.keyCode===a.ui.keyCode.ESCAPE){if(c.options.fullscreen){c._setOption("fullscreen",false);d.preventDefault();d.stopPropagation()}}else{if(d.keyCode===a.ui.keyCode.SPACE){d.preventDefault();d.stopPropagation();c.togglePlay()}}}};this._documentEvts={contextmenu:function(d){if(a(d.target).is("video")&&c.options.disabled){d.preventDefault();d.stopPropagation()}}};a(document).bind(this._documentEvts);if(!this.options.browserControls){this._controlsEvts={mouseover:function(d){c._onControlMouseOver(d)},mouseout:function(d){c._onControlMouseOut(d)}};this.container.bind(this._controlsEvts)}this.container.bind(this._generalEvts)},_handleKbNavigation:function(b){if(b.keyCode===a.ui.keyCode.HOME){a(this.controlButtons[0]).focus();b.stopPropagation();b.preventDefault()}else{if(b.keyCode===a.ui.keyCode.END){a(this.controlButtons[this.controlButtons.length-1]).focus();b.stopPropagation();b.preventDefault()}}},_handleBlurKb:function(){this.currentVideo.removeClass(this.css.activeVideoClass)},_handleFocusKb:function(){this.currentVideo.addClass(this.css.activeVideoClass)},_onVideoLoading:function(b){this._detectBuffered(b)},_detectBuffered:function(f){var g=this.currentVideo[0],h=g.buffered,c=parseInt(g.duration,10),d=h?h.length:0,e=d>0?parseInt(h.end(d-1),10):0,b=(e/c)*100;if(d>0&&this._previouslyBuffered!==b){a("#"+this._id("_ctrls_pb")).igProgressBar("option","endValue",(e/c)*100);this._buffering(g.currentSrc,b,f);this._previouslyBuffered=b}},_getActiveControls:function(){var b=this._activeControlsIndex;if(b!==undefined&&this.controls&&b>=0&&b<this.controls.length){return this.controls[b].parent()}return null},_onControlMouseOver:function(){var b=this._getActiveControls(),c=this.options;if(b&&!c.browserControls&&c.autohide&&!a("#"+this._id("_rvcc")).is(":visible")){b.show().removeClass(this.css.controlsHideClass)}},_onControlMouseOut:function(){var c=this.options,b=this._getActiveControls();if(b&&!c.browserControls&&c.autohide){b.addClass(this.css.controlsHideClass).hide()}},_onVideoError:function(b){var c=b.target.error;switch(c.code){case c.MEDIA_ERR_ABORTED:break;case c.MEDIA_ERR_NETWORK:this.play();break;case c.MEDIA_ERR_DECODE:case c.MEDIA_ERR_SRC_NOT_SUPPORTED:this._showUnsupportedVideoSourceMsg();break;default:break}},_changeCurrentTime:function(d){var e=this.currentVideo[0],b=e.duration,c;if(b===Infinity){this._updateProgressLabel()}else{if(!isNaN(b)){c=parseInt(e.currentTime,10);if(!this._userSliding){a("#"+this._id("_ctrls_s")).igSlider("option","value",(c/b)*100)}this._updateProgressLabel();if(this._embeddedCommercialPlaying){this._updateAdMessage(this.options.commercials.embeddedCommercials[this._embeddedCommercialIndex].endTime-c);this._checkEmbeddedCommercialShow(c)}else{if(!this._commercialPlaying){this._checkBannerShow(c);this._checkCommercialsShow(c);this._checkEmbeddedCommercialShow(c)}else{this._updateAdMessage(b-c)}}}}this._progress(e.currentSrc,c,b,d)},_checkBannerShow:function(d){var b=this._bannerShow||[],e=b.length,c=0;for(;c<e;c++){if(b[c].length>0&&d>=b[c][0]){b[c].shift();this.showBanner(c)}}},_checkCommercialsShow:function(b){if(this._commercialsShow&&this._commercialsShow.length>0&&b>=this._commercialsShow[0]&&!this._commercialPlaying){this._commercialPlaying=true;if(b-this._commercialsShow[0]>this._const.COMMERCIAL_SEEK_DELTA){this.currentTime(this._commercialsShow[0])}this.playCommercial(this.options.commercials.linkedCommercials[this._commercialIndex])}},_checkEmbeddedCommercialShow:function(b){if(this._embeddedCommercialsShow&&this._embeddedCommercialsShow.length>0&&!this.currentVideo[0].seeking){var c=this._embeddedCommercialsShow[0];if(b>=c.startTime&&!this._embeddedCommercialPlaying){this._embeddedCommercialPlaying=true;if(b-c.startTime>this._const.COMMERCIAL_SEEK_DELTA){this.currentTime(c.startTime)}a("#"+this._id("_ctrls_s")).igSlider("option","disabled",true);this._showAdMessage(c.endTime-c.startTime);if(c.link&&c.link.length>0){this.currentVideo.attr("title",a.ig.VideoPlayer.locale.adNewWindowTip)}}else{if(b>=c.endTime&&this._embeddedCommercialPlaying){this._embeddedCommercialsShow.shift();this._embeddedCommercialIndex++;this._embeddedCommercialPlaying=false;this.hideAdMessage();a("#"+this._id("_ctrls_s")).igSlider("option","disabled",false);if(c.link&&c.link.length>0){this.currentVideo.removeAttr("title")}}}}},_updateProgressLabel:function(){var f=this.currentVideo[0],g=a("#"+this._id("_ctrls_pl")),c=f.duration,b=parseInt(c,10),d=parseInt(f.currentTime,10),e=this.options.progressLabelFormat;e=e.replace("${currentTime}",this._toTimeString(d)).replace("${duration}",(c===Infinity?a.ig.VideoPlayer.locale.liveStream:this._toTimeString(b)));g.html(e)},_toTimeString:function(c){if(typeof(c)==="number"){var f=parseInt(c%60,10),d=parseInt(c/60,10),b=parseInt(d/60,10),e=parseInt(b/24,10),g="{0}d {1}:{2}:{3}";d=parseInt(d%60,10);b=parseInt(b%60,10);g=g.replace("{3}",(f<10?"0"+f:f)).replace("{2}",d);if(b>0){g=g.replace("{1}",b);if(e>0){g=g.replace("{0}",e)}else{g=g.replace("{0}d ","")}}else{g=g.replace("{0}d {1}:","")}return g}return"NaN"},_onVideoWaiting:function(){this._showWaitingIndicator()},_createUnsupportedVideoSourceMsg:function(){var b=this.css;return this._createButton(this._id("_detectError"),b.unsupportedVideoSourceClass,b.unsupportedVideoSourceIconClass,a.ig.VideoPlayer.locale.missingVideoSource).attr("title",a.ig.VideoPlayer.locale.unsupportedVideoSource)},_showUnsupportedVideoSourceMsg:function(){var b=a("#"+this._id("_detectError"));if(b.length===0){b=this._createUnsupportedVideoSourceMsg()}return b.show()},_hideUnsupportedVideoSourceMsg:function(){a("#"+this._id("_detectError")).hide()},_createBigPlayButton:function(){var b=this,c=this.css;this._createButton(this._id("_play"),c.centerPlayButtonClass,c.centerPlayButtonIconClass,"").bind({click:function(d){d.preventDefault();if(d.button===0){b._onVideoClick(true)}},dblclick:function(d){d.preventDefault();if(d.button===0){b._onVideoDblClick()}}})},_createButton:function(d,c,b,e){a("<span></span>").html(e).addClass(b).appendTo(a("<a></a>").attr("id",d).attr("href",this._const.HREF).attr("tabIndex",-1).addClass("ui-state-default").addClass(c).appendTo(this.container));return a("#"+d).bind({mouseover:function(){a(this).addClass("ui-state-hover")},mouseout:function(){a(this).removeClass("ui-state-hover")}}).hide()},_showCenterPlayButton:function(){var g=this.currentVideo,b=a("#"+this._id("_play")),e=Math.floor(g.height()/2),c=Math.floor(g.width()/2),f=e-Math.floor(b.innerHeight()/2),d=c-Math.floor(b.innerWidth()/2);b.css("position","absolute").css("left",d).css("top",f);return b.show()},_toggleCenterPlayButton:function(){var d=this.currentVideo[0],b=this.options,c=this.css;if(d.paused||d.ended){this._showCenterPlayButton().removeClass(c.centerPauseButtonClass).addClass(c.centerPlayButtonClass)}else{this._showCenterPlayButton().removeClass(c.centerPlayButtonClass).addClass(c.centerPauseButtonClass)}setTimeout(a.proxy(this._hideCenterPlayButton,this),b.centerButtonHideDelay)},_hideCenterPlayButton:function(){return a("#"+this._id("_play")).hide()},_createWaitingIndicator:function(){var b=this.css;this._createButton(this._id("_waiting"),b.waitingIndicatorClass,b.waitingIndicatorIconClass,a.ig.VideoPlayer.locale.buffering)},_createSeekTimeToolTip:function(){a("<div></div>").attr("id",this._id("_seek_tooltip")).hide().igTooltip({text:"00:00",arrowLocation:"bottom"}).appendTo(this.container).addClass(this.css.seekTooltipClass)},_showSeekTimeToolTip:function(d,e,c){var b=a("#"+this._id("_seek_tooltip"));b.css("top",(e-b.outerHeight())).css("left",(d-(b.width()/2))).igTooltip("option","text",this._toTimeString(c)).show()},_showWaitingIndicator:function(){if(a("#"+this._id("_detectError")).is(":visible")){return}var g=this.currentVideo,b=a("#"+this._id("_waiting")),e=Math.floor(g.height()/2),c=Math.floor(g.width()/2),f=e-Math.floor(b.innerHeight()/2),d=c-Math.floor(b.innerWidth()/2);b.css("position","absolute").css("left",d).css("top",f).show()},_hideWaitingIndicator:function(){a("#"+this._id("_waiting")).hide()},_renderTitleControls:function(){var e=this.options.title,c=this,b,d='<div id="'+this._id("_title_ctrls")+'" class="ui-widget-header ui-igplayer-controls ui-igplayer-grid ui-igplayer-title-controls ui-corner-all">';d+='<div class="ui-igplayer-row">';d+='<div class="ui-igplayer-container ui-igplayer-cell ui-igplayer-playback-alone">';d+='		<a id="'+this._id("_title_ctrls_play")+'" class="ui-button ui-igplayer-playbutton ui-igplayer-playback-with-time ui-state-default ui-corner-all ui-priority-primary" href="'+this._const.HREF+'">';d+='			<span title="'+a.ig.VideoPlayer.locale.play+'" class="ui-icon ui-icon-play ui-igplayer-playbutton-icon"></span>';d+='			<span title="00:00" class="ui-button-text ui-igplayer-playbutton-text">00:00</span>';d+="		</a>";d+="</div>";d+='<div id="'+this._id("_title_ctrls_t")+'" class="ui-igplayer-container ui-igplayer-cell ui-igplayer-video-title">';if(e&&e.length>0){d+=e}d+="</div></div></div>";b=a(d).appendTo(this.container).wrap('<div style="position:absolute;"></div>');if(this.options.width){b.parent().css("width",this.options.width)}a("#"+this._id("_title_ctrls_play")).bind({click:function(f){f.preventDefault();if(f.button===0&&!c.options.disabled){c.togglePlay()}}});return b},_hideTitleControls:function(){if(this._activeControlsIndex!==0){this._activeControlsIndex=0;a("#"+this._id("_title_ctrls")).addClass(this.css.controlsHideClass).parent().remove();a("#"+this._id("_ctrls")).parent().show()}},_convertBookmarks:function(e,c,f,h){var g=c.length,k=[],d=0,j,l,b;for(;d<g;d++){j=c[d];if(j[e]>0&&j[e]<f){b=parseInt((j[e]/f)*100,10);l={value:b,secondsValue:j[e],displayTime:this._toTimeString(j[e]),index:d,title:j.title,disabled:j.disabled};if(h&&h.length>0){l.css=h}k.push(l)}}return k},_renderBookmarks:function(){var g=this.options,c=g.bookmarks||[],d=g.commercials,h=d.linkedCommercials||[],j=d.embeddedCommercials||[],e=this.currentVideo[0].duration,f=[],i=[],b=[];if(d.showBookmarks){if(h.length>0){i=this._convertBookmarks("startTime",h,e,this.css.linkedBookmarkClass)}if(j.length>0){b=this._convertBookmarks("startTime",j,e,this.css.adBookmarkClass)}}if(c.length>0){f=this._convertBookmarks("time",c,e);if(f.length>0){this._renderBookmarkArea(f)}}if(i.length>0){a.merge(f,i)}if(b.length>0){a.merge(f,b)}if(f.length>0){a("#"+this._id("_ctrls_s")).igSlider("option","bookmarks",f)}this._bookmarksRendered=true},_renderBookmarkArea:function(c){if(c&&c.length>0){var h=this.css,f='<li class="ui-corner-all $class$"><span class="'+h.bookmarkItemTimeClass+'">$time$</span><span class="'+h.bookmarkItemTitleClass+'" title="$titleAttr$">$title$</span></li>',e='<div id="$id$" class="$bookmarkContainerClass$"><div class="$headerClass$">$headerText$</div><ul class="$bookmarkListClass$">$list$</ul></div>',k="",l,j,d=0,g=c.length,b=this;for(;d<g;d++){j=c[d];k+=f.replace("$time$",j.displayTime).replace("$titleAttr$",j.title).replace("$title$",j.title).replace("$class$",j.disabled?h.bookmarkItemDisabledClass:"")}e=e.replace("$id$",this._id("_bookmarks")).replace("$bookmarkContainerClass$",h.bookmarkContainerClass).replace("$headerClass$",h.bookmarkContainerHeaderClass).replace("$bookmarkListClass$",h.bookmarkListClass).replace("$headerText$",a.ig.VideoPlayer.locale.skipTo).replace("$list$",k);l=a(e).appendTo(this.container);this.bookmarkElements=a("li",a("#"+this._id("_bookmarks")));this.bookmarkElements.each(function(m){a(this).data("bookmark-index",c[m].index);a(this).data("bookmark-sec-value",c[m].secondsValue)});this.bookmarkElements.bind({click:function(m){var i=a(this).data("bookmark-index"),n=b.options.bookmarks[i];m.stopPropagation();m.preventDefault();if(!n.disabled){if(b.paused()){b.togglePlay()}b.currentTime(a(this).data("bookmark-sec-value"));b._changeActiveBookmark(i);b._bookmarkClick(n,c[i],m)}}});if(this.options.height){this.currentVideo.css("height",this.container.height()-l.height());this._resizeBookmarkAreaTimeoutId=setTimeout(a.proxy(this._onPlayerResize,this),500)}}},_onPlayerResize:function(){var d=this.options,b=this.container.height(),c=this.container.width(),e=a("#"+this._id("_bookmarks"));if((d.height||d.width)&&(this._oldContainerHeight!==b||this._oldContainerWidth!==c)){this.currentVideo.css("height",b-e.height());this._oldContainerHeight=b;this._oldContainerWidth=c}this._resizeBookmarkAreaTimeoutId=setTimeout(a.proxy(this._onPlayerResize,this),250)},_ensureVolume:function(){this.options.volume=this.currentVideo[0].volume},_renderControls:function(){a("body").addClass("ui-igplayer-normal-screen-mode");if(this.options.showSeekTime){this._createSeekTimeToolTip()}var f=this.currentVideo[0],d=this,h,e=[],g=this.options.autoplay,c=this._const.HREF,b='<div id="'+this._id("_ctrls")+'" class="$controlsClass$">';b+='			<div class="ui-igplayer-row">';b+='				<div class="ui-igplayer-container ui-igplayer-cell ui-igplayer-playback">';b+='					<a id="$playButtonId$" class="$playButtonClass$" href="'+c+'"></a>';b+="				</div>";b+='				<div class="ui-igplayer-container ui-igplayer-cell ui-igplayer-progress-bar">';b+='					<div id="$progressBarId$" class="$progressBarClass$"></div>';b+="				</div>";b+='				<div class="ui-igplayer-container ui-igplayer-extra">';b+='					<div class="ui-igplayer-grid">';b+='						<div class="ui-igplayer-row">';b+='							<div class="ui-igplayer-cell">';b+='								<a id="$progressLabelId$" class="$progressLabelClass$" href="'+c+'"></a>';b+="							</div>";b+='							<div class="ui-igplayer-cell">';b+="                               <div>";b+='								    <div id="$volumeSliderId$" class="$volumeSliderClass$"></div>';b+="									<div>";b+='										<a id="$volumeControlId$" class="$volumeControlClass$" href="'+c+'"></a>';b+="									</div>";b+="                               </div>";b+="							</div>";b+='							<div class="ui-igplayer-cell">';b+='								<a id="$fullScreenId$" class="$fullScreenClass$" href="'+c+'"></a>';b+="							</div>";b+="						</div>";b+="					</div>";b+="				</div>";b+="			</div>";b+="		</div>";b=b.replace("$playButtonClass$",this.css.playButtonClass).replace("$progressBarClass$",this.css.progressBarClass).replace("$fullScreenClass$",this.css.fullScreenClass).replace("$controlsClass$",this.css.controlsClass).replace("$volumeControlClass$",this.css.volumeControlClass).replace("$volumeSliderClass$",this.css.volumeSliderClass).replace("$progressLabelClass$",this.css.progressLabelClass);b=b.replace("$playButtonId$",this._id("_ctrls_play")).replace("$progressBarId$",this._id("_ctrls_s")).replace("$fullScreenId$",this._id("_ctrls_fs_btn")).replace("$volumeControlId$",this._id("_ctrls_vc_btn")).replace("$volumeSliderId$",this._id("_ctrls_vs")).replace("$progressLabelId$",this._id("_ctrls_pl"));h=a(b).appendTo(this.container).wrap('<div style="position:absolute;"></div>');if(this.options.width){h.parent().css("width",this.options.width)}e.push(h);if(!g&&f.currentTime===0){h.parent().hide();this._activeControlsIndex=1;e.push(this._renderTitleControls())}else{this._activeControlsIndex=0}this.controls=a(e);a("#"+this._id("_ctrls_play")).bind({click:function(i){i.preventDefault();if(!a(this).igButton("option","disabled")){d.togglePlay()}}}).igButton({link:{href:this._const.HREF},css:{buttonLabelClass:"ui-icon "+(g?"ui-icon-pause ":"ui-icon-play ")+"ui-igplayer-playbutton-icon "}}).addClass("ui-priority-primary").attr("title",(g?a.ig.VideoPlayer.locale.playing:a.ig.VideoPlayer.locale.paused));a("#"+this._id("_ctrls_fs_btn")).bind({click:function(i){i.preventDefault();d._setOption("fullscreen",!d.options.fullscreen)}}).igButton({link:{href:this._const.HREF},css:{buttonLabelClass:this.css.fullScreenIconClass}}).attr("title",a.ig.VideoPlayer.locale.enterFullscreen);a('<div id="'+this._id("_ctrls_pb")+'"></div>').appendTo(a("#"+this._id("_ctrls_s")).igSlider({slide:function(j,i){if(j.originalEvent===undefined){return false}clearTimeout(d._slideTimeout);d._slideTimeout=setTimeout(d._createDelegate(d,d._slide,[i]),d._const.SLIDE_SEEK_TIMEOUT)},start:function(){d._userSliding=true},stop:function(){d._userSliding=false},bookmarkhit:function(k,j){var i=j.bookmark.index,l=d.bookmarkElements;if(l&&l.length>0){d._changeActiveBookmark(i);d._bookmarkHit(d.currentVideo[0].currentSrc,d.options.bookmarks[i],l[i],k)}},bookmarkclick:function(j,i){var k;if(a(i.bookmarkElement).hasClass("ui-igplayer-linked-bookmark")){k=d.options.commercials.linkedCommercials[i.bookmark.index]}else{if(a(i.bookmarkElement).hasClass("ui-igplayer-ad-bookmark")){k=d.options.commercials.embeddedCommercials[i.bookmark.index]}else{k=d.options.bookmarks[i.bookmark.index];d._changeActiveBookmark(i.bookmark.index)}}d.currentTime(k.time?k.time:k.startTime);d._bookmarkClick(k,i.bookmarkElement,j);return false},min:0,max:100,animate:true}).css("display","block")).igProgressBar({range:true,endValue:0});a("#"+this._id("_ctrls_pb")).bind({mousemove:function(m){if(d.options.showSeekTime&&this.offsetWidth>0){var l=m.pageX-this.offsetLeft-a(this).offset().left,n=parseInt((l/this.offsetWidth)*100,10),j=f.duration,k,i=d.container.offset();if(!isNaN(j)&&j!==Infinity&&!d._commercialPlaying){k=parseInt((n*j)/100,10);d._showSeekTimeToolTip(m.pageX-i.left,m.pageY-i.top,k)}}},mouseout:function(){a("#"+d._id("_seek_tooltip")).hide()}});a("#"+this._id("_ctrls_pl")).bind({click:function(i){i.preventDefault()}});a("#"+this._id("_ctrls_vc_btn")).bind({mouseover:function(){d._showVolumeSlider()},mouseout:function(i){if(!jQuery.contains(i.currentTarget,i.relatedTarget)&&i.currentTarget!==i.relatedTarget){d._volumeSliderTimeoutId=setTimeout(a.proxy(d._hideVolumeSlider,d),d.options.volumeAutohideDelay)}},click:function(i){i.preventDefault();d._setOption("muted",!d.options.muted)}}).igButton({link:{href:this._const.HREF},css:{buttonLabelClass:"ui-icon "+(this.options.muted?"ui-icon-volume-off ":"ui-icon-volume-on ")+"ui-igbutton-icon"}}).attr("title",a.ig.VideoPlayer.locale.volume);a("#"+this._id("_ctrls_vs")).hide().bind({mouseover:function(){d._volumeSliderMouseOut=false;clearTimeout(d._volumeSliderTimeoutId)},mouseout:function(){if(!d._userSlidingVolume){d._volumeSliderTimeoutId=setTimeout(a.proxy(d._hideVolumeSlider,d),d.options.volumeAutohideDelay)}d._volumeSliderMouseOut=true}}).igSlider({slide:function(j,i){if(j.originalEvent===undefined){return}d._setOption("volume",parseFloat(parseInt(i.value,10)/100))},start:function(){d._userSlidingVolume=true},stop:function(){d._userSlidingVolume=false},min:0,max:100,step:10,orientation:"vertical",value:(this.options.muted?0:this.options.volume*100)});a("#"+this._id("_ctrls_vs")).data("igSlider").handle.attr("tabIndex",-1).bind({blur:function(){d._volumeSliderTimeoutId=setTimeout(a.proxy(d._hideVolumeSlider,d),d.options.volumeAutohideDelay)}});this.controlButtons=a([document.getElementById(this._id("_ctrls_play")),a("a.ui-state-default",a("#"+this._id("_ctrls_s")))[0],document.getElementById(this._id("_ctrls_vc_btn")),document.getElementById(this._id("_ctrls_fs_btn"))]);this.controlButtons.each(function(j){a(this).data("index.control-button",j)});this.controlButtons.bind({keydown:function(i){d._handleKbNavigation(i)},focus:function(i){d._handleFocusKb(i)},blur:function(i){d._handleBlurKb(i)}});a("#"+this._id("_ctrls_vc_btn")).bind({focus:function(){d._showVolumeSlider()},blur:function(){if(!d._transferFocusFromVolumeButtonToVolumeSlider){d._hideVolumeSlider()}d._transferFocusFromVolumeButtonToVolumeSlider=false},keydown:function(i){if(i.keyCode===a.ui.keyCode.TAB){i.preventDefault();i.stopPropagation();d._transferFocusFromVolumeButtonToVolumeSlider=true;a("#"+d._id("_ctrls_vs")).data("igSlider").handle.focus()}}});a("#"+d._id("_ctrls_vs")).data("igSlider").handle.bind({keydown:function(i){if(i.keyCode===a.ui.keyCode.TAB){i.preventDefault();i.stopPropagation();a("#"+d._id("_ctrls_fs_btn")).focus()}}})},_slide:function(e){var b=e.value,c=this.currentVideo[0].duration,d=c*(b/100);if(!isNaN(c)&&c!==Infinity){this.currentTime(d)}this._userSliding=false},_changeActiveBookmark:function(c){var b=this._activeBookmarkIndex,d=this.bookmarkElements;if(d&&d.length>0&&c!==b){if(b>=0&&b<d.length){a(d[b]).removeClass(this.css.bookmarkActiveItemClass)}if(c>=0&&c<d.length){a(d[c]).addClass(this.css.bookmarkActiveItemClass);this._activeBookmarkIndex=c}}},_adjustVolumeButton:function(c){var b=a("#"+this._id("_ctrls_vc_btn"));if(c===0){a("span",b).removeClass("ui-icon-volume-on").addClass("ui-icon-volume-off")}else{a("span",b).removeClass("ui-icon-volume-off").addClass("ui-icon-volume-on")}},_hideVolumeSlider:function(){var b=a("#"+this._id("_ctrls_vs"));b.data("igSlider").handle.attr("tabIndex",-1);b.hide()},_showVolumeSlider:function(){clearTimeout(this._volumeSliderTimeoutId);var b=a("#"+this._id("_ctrls_vs"));b.data("igSlider").handle.removeAttr("tabIndex");b.show()},_ended:function(b,e,d){var c={source:b,duration:e};return this._trigger(this.events.ended,d,c)},_playing:function(b,e,d){var c={source:b,duration:e};return this._trigger(this.events.playing,d,c)},_paused:function(b,e,d){var c={source:b,duration:e};return this._trigger(this.events.paused,d,c)},_buffering:function(b,e,d){var c={source:b,buffered:e};return this._trigger(this.events.buffering,d,c)},_progress:function(b,d,f,e){var c={source:b,currentTime:d,duration:f};return this._trigger(this.events.progress,e,c)},_waiting:function(b,d,f,e){var c={source:b,currentTime:d,duration:f};return this._trigger(this.events.waiting,e,c)},_bookmarkHit:function(b,e,d,c){var f={source:b,bookmark:e,bookmarkElement:d};return this._trigger(this.events.bookmarkHit,c,f)},_bookmarkClick:function(d,c,b){var e={bookmark:d,bookmarkElement:c};return this._trigger(this.events.bookmarkClick,b,e)},_enterFullScreen:function(b){var c={source:b};return this._trigger(this.events.enterFullScreen,null,c)},_exitFullScreen:function(b){var c={source:b};return this._trigger(this.events.exitFullScreen,null,c)},_bannerVisible:function(c,d){var b={index:c,banner:this.options.banners[c],bannerElement:d};return this._trigger(this.events.bannerVisible,null,b)},_bannerHidden:function(c,d){var b={index:c,banner:this.options.banners[c],bannerElement:d};return this._trigger(this.events.bannerHidden,null,b)},_prepareForPlay:function(){var c=this.options,b=this.currentVideo;if(a("source",b).length===0){this._renderSources(c.sources,b)}if(!b.data("sourceDetected")){this._analyzeSource(b)}this._hideTitleControls();if(c.relatedVideos&&c.relatedVideos.length>0){a("#"+this._id("_rvcc")).hide()}},togglePlay:function(){var b=this.currentVideo[0];this._prepareForPlay();this._toggleCenterPlayButton();if(b.paused||b.ended){if(!this.options.browserControls){a("#"+this._id("_ctrls_play")).attr("title",a.ig.VideoPlayer.locale.playing)}b.play()}else{if(!this.options.browserControls){a("#"+this._id("_ctrls_play")).attr("title",a.ig.VideoPlayer.locale.paused)}b.pause()}},play:function(){var b=this.currentVideo[0];if(b.paused||b.ended){this._prepareForPlay();this._toggleCenterPlayButton();if(!this.options.browserControls){a("#"+this._id("_ctrls_play")).attr("title",a.ig.VideoPlayer.locale.playing)}b.play()}},pause:function(){var b=this.currentVideo[0];if(!b.paused){this._toggleCenterPlayButton();if(!this.options.browserControls){a("#"+this._id("_ctrls_play")).attr("title",a.ig.VideoPlayer.locale.paused)}b.pause()}},currentTime:function(c){var e=this.currentVideo[0],b=e.duration;if(c!==null&&c!==undefined){try{e.currentTime=c;a("#"+this._id("_ctrls_pb")).igProgressBar("option","value",(c/b).toFixed(2)*100);this._checkCommercialsShow(c);this._checkEmbeddedCommercialShow(c)}catch(d){}if(e.paused&&!isNaN(b)){a("#"+this._id("_ctrls_s")).igSlider("option","value",(c/b).toFixed(2)*100)}}return parseInt(e.currentTime,10)},screenshot:function(e){if(!e||a.type(e)!=="number"){e=1}var f=this.currentVideo[0],g=f.videoWidth*e,b=f.videoHeight*e,c=document.createElement("canvas"),d;if(c.getContext){c.width=g;c.height=b;d=c.getContext("2d");d.drawImage(f,0,0,g,b)}return c},supports_video:function(){return !!document.createElement("video").canPlayType},supports_h264_baseline_video:function(){if(!this.supports_video()){return false}var b=document.createElement("video");return b.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')!==""},supports_ogg_theora_video:function(){if(!this.supports_video()){return false}var b=document.createElement("video");return b.canPlayType('video/ogg; codecs="theora, vorbis"')!==""},supports_webm_video:function(){if(!this.supports_video()){return false}var b=document.createElement("video");return b.canPlayType('video/webm; codecs="vp8, vorbis"')!==""},paused:function(){return this.currentVideo[0].paused},ended:function(){return this._getMainVideo()[0].ended},duration:function(){this._refreshDuration();return this._duration},_refreshDuration:function(){var b=this.currentVideo[0].duration;if(b!==this._duration){this._duration=b;if(b===Infinity){this._updateTitleControlsTimeString(a.ig.VideoPlayer.locale.live,a.ig.VideoPlayer.locale.liveStream);a("#"+this._id("_ctrls_s")).data("igSlider").handle.hide();a("#"+this._id("_ctrls_s")).igSlider("option","disabled",true)}else{if(!isNaN(b)){if(this._commercialPlaying){this._showAdMessage(parseInt(b,10))}else{this._updateTitleControlsTimeString(this._toTimeString(b));if(!this._bookmarksRendered){this._renderBookmarks()}}}}}},seeking:function(){return this.currentVideo[0].seeking},destroy:function(){var b=this.css;clearTimeout(this._scrollingTimoutId);clearTimeout(this._volumeSliderTimeoutId);clearTimeout(this._onVideoStateChangeId);clearTimeout(this._resizeBookmarkAreaTimeoutId);if(this._oldWidth){this.element.css("width",this._oldWidth)}if(this._oldHeight){this.element.css("height",this._oldHeight)}this.container.unbind(this._generalEvts);a(document).unbind(this._documentEvts);if(this._controlsEvts){this.container.unbind(this._controlsEvts)}this.container.removeClass(b.baseClasses);a("#"+this._id("_ctrls_s")).igSlider("destroy");a("#"+this._id("_ctrls_pb")).igProgressBar("destroy");a("#"+this._id("_ctrls_vs")).igSlider("destroy");a("#"+this._id("_seek_tooltip")).igTooltip("destroy");if(this._commercialsShow){delete this._commercialsShow;delete this._commercialIndex;delete this._commercialPlaying}if(this._embeddedCommercialsShow){delete this._embeddedCommercialPlaying;delete this._embeddedCommercialIndex;delete this._embeddedCommercialsShow}delete this.bookmarkElements;delete this.relatedVideoElements;delete this.controlButtons;delete this._bannerShow;delete this.banner;if(this.element.is("video")){this.element.unbind(this._videoEvents);this.element.removeClass(b.videoClass);this._restoreExistingVideoProperties(this.element);a(":not(video)",this.container).remove();this.element.unwrap()}else{this.container.children().remove()}a.Widget.prototype.destroy.apply(this,arguments)},_destroyBookmarks:function(){var b=this.options.bookmarks;if(b&&b.length>0){this.bookmarkElements.unbind();this.bookmarkElements.removeData();delete this.bookmarkElements;a("#"+this._id("_bookmarks")).remove();a("#"+this._id("_ctrls_s")).igSlider("clearBookmarks");this._bookmarksRendered=false;b=[]}},_destroyRelatedVideos:function(){var b=this.options.relatedVideos;if(b&&b.length>0){a("#"+this._id("_rvcc")).remove();delete this.relatedVideoElements;b=[]}},_destroyControls:function(){var b=this.options.browserControls;if(!b){a("#"+this._id("_ctrls_play")).igButton("destroy");a("#"+this._id("_ctrls_vc_btn")).igButton("destroy");a("#"+this._id("_ctrls_fs_btn")).igButton("destroy");a("#"+this._id("_ctrls_pb")).igProgressBar("destroy");a("#"+this._id("_ctrls_s")).igSlider("destroy");a("#"+this._id("_ctrls_vs")).igSlider("destroy");this.controls.each(function(){a(this).parent().remove()});delete this.controls;delete this.controlButtons;delete this._activeControlsIndex}}});a.extend(a.ui.igVideoPlayer,{version:"11.1.20111.2010"})}(jQuery));